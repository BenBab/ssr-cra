(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{583:function(e,a,t){"use strict";var n=t(9),l=t(13),i=t(26),o=t(27),r=t(30),c=t(28),s=t(29),p=t(123),u=t(0),d=t.n(u),h=t(34),m=t(90),g=t(39),b=t.n(g),v=(t(186),t(122),t(7)),f=t(878),C=t.n(f),E=t(881),k=t.n(E),x=t(884),y=t.n(x),I=t(883),O=t.n(I);function j(){var e=Object(n.a)(['\n    margin: 15px 5px;\n  \n    /* > div {\n        height: 20px !important;\n        width: 20px !important;\n        margin: "theme.spacing.unit * 2";\n        color: ',";\n\n    } */\n"]);return j=function(){return e},e}var B=v.b.div(j(),function(e){return e.theme.primaryBackGroundColour}),S=function(e){return d.a.createElement(B,null,d.a.createElement(C.a,{onChange:function(){return e.onClick(e.name)}},d.a.createElement(k.a,{expandIcon:d.a.createElement(O.a,null)},d.a.createElement("div",null,e.title)),d.a.createElement(y.a,null,e.children?e.children:d.a.createElement("div",null))))},w=t(893),P=t.n(w),M=t(895),T=t.n(M),U=t(889),R=t.n(U),D=t(891),A=t.n(D),L=t(189),H=t.n(L),N=t(406),_=t.n(N),W=t(886),z=t.n(W);function F(){var e=Object(n.a)(["\n  > div div {\n    background-color: ",";\n    font-weight: ",";\n  }\n"]);return F=function(){return e},e}var V=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(t=Object(r.a)(this,(e=Object(c.a)(a)).call.apply(e,[this].concat(l)))).state={open:!1},t.handleClick=function(){t.setState({open:!0})},t.handleClose=function(e,a){"clickaway"!==a&&t.setState({open:!1})},t}return Object(s.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){this.setState({open:!0})}},{key:"render",value:function(){var e="rgb(49, 49, 49)";return this.props.error&&(e="rgb(220, 52, 54)"),this.props.success&&(e="rgb(70,154,16)"),d.a.createElement(G,{toastColour:e},d.a.createElement(H.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:this.state.open,autoHideDuration:6e3,onClose:this.handleClose,ContentProps:{"aria-describedby":"message-id"},message:d.a.createElement("span",{id:"message-id"},this.props.message),action:[d.a.createElement(_.a,{key:"close","aria-label":"Close",color:"inherit",onClick:this.handleClose},d.a.createElement(z.a,null))]}))}}]),a}(u.Component),G=v.b.div(F(),function(e){return e.toastColour},function(e){return e.error?"bold":"initial"}),Y=V,K=t(182),J=t.n(K),q=t(397),Z=t(40),Q=t(116),X=t(400),$=t(575),ee=t.n($),ae=t(496),te=t(11),ne=t(418),le=t(888),ie=t.n(le),oe=t(887),re=t.n(oe),ce=t(574),se=t.n(ce);function pe(){var e=Object(n.a)(["\n  border: 2px solid rgba(0, 0, 0, 0.2);\n  border-top: 0;\n  border-bottom-left-radius: 8px;\n  border-bottom-right-radius: 8px;\n  margin-bottom: 35px;\n\n  > div small {\n    cursor: pointer;\n  }\n\n  .minimized_children {\n    padding: ",";\n  }\n"]);return pe=function(){return e},e}function ue(){var e=Object(n.a)(["\n  height: ",";\n"]);return ue=function(){return e},e}var de=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(t=Object(r.a)(this,(e=Object(c.a)(a)).call.apply(e,[this].concat(l)))).state={isOpen:!1},t.handleMinimizer=function(){t.setState({isOpen:!t.state.isOpen})},t}return Object(s.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this.state.isOpen;return d.a.createElement(me,{padding:this.props.padding},d.a.createElement(Q.a,{margin:"0"},d.a.createElement(_.a,{"aria-label":"Add",color:"primary",onClick:this.handleMinimizer},e?d.a.createElement(re.a,null):d.a.createElement(ie.a,null)),e?d.a.createElement("small",{onClick:this.handleMinimizer},"Click to minimise options"):d.a.createElement("small",{onClick:this.handleMinimizer},"Click to expand further options")),d.a.createElement(se.a,{in:e},e?d.a.createElement("div",{className:"minimized_children"},this.props.children):d.a.createElement(he,{emptyHeight:this.props.emptyHeight})))}}]),a}(u.Component),he=v.b.div(ue(),function(e){return e.emptyHeight||"500px"}),me=v.b.div(pe(),function(e){return e.padding||"auto"}),ge=de,be=function(e){function a(){return Object(i.a)(this,a),Object(r.a)(this,Object(c.a)(a).apply(this,arguments))}return Object(s.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this.props,a=e.pos,t=e.data,n=e.handleCheckbox,i=e.handleChange,o=e.handleMediaModal,r=e.clearInput,c=e.handleColourPicker,s={};Object.keys(t).filter(function(e){return e.includes(a+"Banner")}).map(function(e){var n=e.replace(a,"");return s=Object(te.a)({},s,Object(l.a)({},n,t[e]))});var p=s,u=p.Banner3D,h=p.BannerHalfwidth,m=p.BannerImgSize,g=p.BannerHWbackImg,b=p.BannerHWBackColour,v=p.BannerImgRoundHW,f=p.BannerImg3dHW,C=p.BannerTxtRightSide,E=p.BannerTxtLightTheme,k=p.BannerLogo,x=p.Bannerfade,y=p.BannerTitle,I=p.BannerSubtitle,O=p.BannerDescription,j=p.BannerBtnText,B=p.BannerLink,S=p.BannerTextBkgrnd,w=p.BannerTextBkgrndColor,P=p.BannerTextBkgrndAngled,M=p.BannerTextBkgrndRounded;return d.a.createElement(ge,null,d.a.createElement(ne.a,null,d.a.createElement(q.a,{inputtype:"checkbox",sideLabel:"Use the ".concat(a," banner image inside the banner"),name:a+"BannerHalfwidth",checked:h,handleChange:n}),d.a.createElement(q.a,{inputtype:"checkbox",sideLabel:"3d Shadow around the banner",name:a+"Banner3D",checked:u,handleChange:n}),h&&d.a.createElement(d.a.Fragment,null,d.a.createElement(q.a,{inputtype:"checkbox",sideLabel:"Inner Banner image 3d shadow",name:a+"BannerImg3dHW",checked:f,handleChange:n}),d.a.createElement(q.a,{inputtype:"inputSelector",label:"Banner Background Image",name:a+"BannerHWbackImg",value:g,onChange:i,onClick:o,clearInput:r}),d.a.createElement(Q.a,{mobile:!0},d.a.createElement(q.a,{inputtype:"input",type:"number",label:"Inner Image Size (-100 to 100)",name:a+"BannerImgSize",value:m,onChange:i,min:"-100",max:"100"}),d.a.createElement(q.a,{inputtype:"input",type:"number",label:"Inner Image rounded (0 to 50)",name:a+"BannerImgRoundHW",value:v,onChange:i,min:"0",max:"50",margin:"0 0 0 15px"})),d.a.createElement(q.a,{inputtype:"inputColourPicker",label:"Banner Background Colour",name:a+"BannerHWBackColour",value:b,changeColour:c})),d.a.createElement(q.a,{inputtype:"checkbox",sideLabel:"Banner Text has a Background",name:a+"BannerTextBkgrnd",checked:S,handleChange:n}),S&&d.a.createElement(d.a.Fragment,null,d.a.createElement(Q.a,{mobile:!0},d.a.createElement(q.a,{inputtype:"input",type:"number",label:"Text Background angled (-50 to 50)",name:a+"BannerTextBkgrndAngled",value:P,onChange:i,min:"-50",max:"50"}),d.a.createElement(q.a,{inputtype:"input",type:"number",label:"Text Background round edges (0-50)",name:a+"BannerTextBkgrndRounded",value:M,onChange:i,min:"0",max:"50"})),d.a.createElement(q.a,{inputtype:"inputColourPicker",label:"Banner Text Background Colour",name:a+"BannerTextBkgrndColor",value:w,changeColour:c})),d.a.createElement(Q.a,{mobile:!0},d.a.createElement(q.a,{inputtype:"checkbox",sideLabel:"Banner Text Right Side",name:a+"BannerTxtRightSide",checked:C,handleChange:n}),d.a.createElement(q.a,{inputtype:"checkbox",sideLabel:"Banner Light Text Color",name:a+"BannerTxtLightTheme",checked:E,handleChange:n})),d.a.createElement(Q.a,{mobile:!0},d.a.createElement(q.a,{inputtype:"checkbox",sideLabel:"Use Logo in banner",name:a+"BannerLogo",checked:k,handleChange:n}),d.a.createElement(q.a,{inputtype:"checkbox",sideLabel:"Banner content fade in effect",name:a+"Bannerfade",checked:x,handleChange:n})),d.a.createElement(q.a,{inputtype:"input",label:"Banner Title",name:a+"BannerTitle",value:y,onChange:i}),d.a.createElement(q.a,{inputtype:"input",label:"Banner Subtitle",name:a+"BannerSubtitle",value:I,onChange:i}),d.a.createElement(q.a,{inputtype:"input",label:"Banner Description",name:a+"BannerDescription",value:O,onChange:i}),d.a.createElement(Q.a,{mobile:!0},d.a.createElement(q.a,{inputtype:"input",label:"Banner Button Text",name:a+"BannerBtnText",value:j,onChange:i}),d.a.createElement(q.a,{inputtype:"select",label:"Banner Link",name:a+"BannerLink",value:B,items:this.props.availableRoutes,onChange:i}))))}}]),a}(u.Component),ve=t(421),fe=function(e){var a=e.data,t={};Object.keys(a).filter(function(e){return e.includes("mainText")}).map(function(e){return t=Object(te.a)({},t,Object(l.a)({},e,a[e]))}),console.log("content",t);var n=t,i=n.mainTextPosition,o=n.mainTextCenterTitle,r=n.mainTextRightSide,c=n.mainTextBackColour,s=n.mainTextImg,p=n.mainTextImgAlign,u=n.mainTextImgWidth,h=n.mainTextImgHeight;return d.a.createElement(ge,null,d.a.createElement(ne.a,null,d.a.createElement(Q.a,{mobile:!0},d.a.createElement(q.a,{inputtype:"checkbox",sideLabel:"Center Header text",name:"mainTextCenterTitle",checked:o,handleChange:e.handleCheckbox}),d.a.createElement(q.a,{inputtype:"checkbox",sideLabel:"Align Text Right Side",name:"mainTextRightSide",checked:r,handleChange:e.handleCheckbox})),d.a.createElement(q.a,{inputtype:"select",label:"Main Text Page Position",name:"mainTextPosition",value:i,items:e.positionArray,onChange:e.handleChange}),d.a.createElement(q.a,{inputtype:"inputSelector",label:"Add a Small Image",name:"mainTextImg",value:s,onChange:e.handleChange,onClick:e.handleMediaModal,clearInput:e.clearInput}),d.a.createElement(ve.a,{cols:"33% 33% 33%",margin:"0 15px 0 0",colsSmall:"100%"},d.a.createElement(q.a,{inputtype:"select",label:"Image align position",name:"mainTextImgAlign",value:p,items:[{value:"left"},{value:"right"}],onChange:e.handleChange}),d.a.createElement(q.a,{inputtype:"input",type:"number",label:"Banner Image Width",name:"mainTextImgWidth",value:u||200,onChange:e.handleChange}),d.a.createElement(q.a,{inputtype:"input",type:"number",label:"Banner Image Height",name:"mainTextImgHeight",value:h||135,onChange:e.handleChange})),d.a.createElement(q.a,{inputtype:"inputColourPicker",label:"Banner Background Colour",name:"mainTextBackColour",value:c,changeColour:e.handleColourPicker,pageId:"home"})))},Ce=function(e){var a=e.data,t={};Object.keys(a).filter(function(e){return e.includes("testimonials")}).map(function(e){return t=Object(te.a)({},t,Object(l.a)({},e,a[e]))}),console.log("content",t);var n=t,i=n.testimonials_A,o=n.testimonials_B,r=n.testimonials_C,c=n.testimonials_D,s=n.testimonials_E;return d.a.createElement(ge,null,d.a.createElement(ne.a,null,d.a.createElement(q.a,{inputtype:"input",label:"Testimonial One",name:"testimonials_A",value:i,onChange:e.handleChange}),d.a.createElement(q.a,{inputtype:"input",label:"Testimonial Two",name:"testimonials_B",value:o,onChange:e.handleChange}),d.a.createElement(q.a,{inputtype:"input",label:"Testimonial Three",name:"testimonials_C",value:r,onChange:e.handleChange}),d.a.createElement(q.a,{inputtype:"input",label:"Testimonial Four",name:"testimonials_D",value:c,onChange:e.handleChange}),d.a.createElement(q.a,{inputtype:"input",label:"Testimonial Five",name:"testimonials_E",value:s,onChange:e.handleChange})))};function Ee(){var e=Object(n.a)(["\n  padding: 5px;\n"]);return Ee=function(){return e},e}function ke(){var e=Object(n.a)(["\n  display: block;\n  zoom: 30%;\n  padding-top: 56px;\n  box-shadow: 2px 2px 2px;\n\n"]);return ke=function(){return e},e}function xe(){var e=Object(n.a)(["\n  padding: 3vh;\n  display: grid;\n  grid-template-columns: 65% 35%;\n  grid-gap: 8px;\n\n  @media (max-width: 500px) {\n    grid-template-columns: 100%;\n  }\n\n"]);return xe=function(){return e},e}var ye=v.b.div(xe()),Ie=v.b.div(ke()),Oe=v.b.div(Ee()),je=function(e){if(console.log("tabItems props",e),e.itemProps.dropdownPages)return d.a.createElement(Se,{navigationItems:e.itemProps.dropdownPages,parentId:e.pageId,parent:e.children,onChange:e.onChange,handlePageDelete:e.handlePageDelete,openMediaModal:e.openMediaModal,updatePageSubmit:e.updatePageSubmit,isUpdating:e.isUpdating,cancelUpdate:e.cancelUpdate,stateBackup:e.stateBackup,availableRoutes:e.availableRoutes,template:e.template,plugins:e.plugins});var a=function(a){a.preventDefault(),e.onChange(a.target,e.pageId,e.parentId)},t=function(a){return function(t){console.log(a,t.target.checked);var n={name:t.target.name,value:t.target.checked};e.onChange(n,e.pageId,e.parentId)}},n=function(a){a.preventDefault(),e.openMediaModal(a.target,e.pageId,e.parentId)},l=function(a){e.onChange(a.target,e.pageId,e.parentId)},i=function(a){var t={name:a,value:""};e.onChange(t,e.pageId,e.parentId)},o=e.itemProps.content,r=o.topBanner,c=o.topBannerHalfwidth,s=o.midBanner,p=o.midBannerHalfwidth,u=o.bottomBanner,h=o.bottomBannerHalfwidth,m=o.mainText,g=o.testimonialsPosition,b=[{value:"Top"},{value:"Middle"},{value:"Bottom"}];return d.a.createElement(J.a,{elevation:20},d.a.createElement(ye,null,d.a.createElement("div",null,e.children,d.a.createElement(q.a,{inputtype:"inputSelector",label:"".concat(c?"Top Banner Image (Inside Banner)":"Top Banner Image"),name:"topBanner",value:r,onChange:a,onClick:n,clearInput:i}),r&&d.a.createElement(be,{pos:"top",data:e.itemProps.content,handleCheckbox:t,handleChange:a,handleMediaModal:n,clearInput:i,handleColourPicker:l,availableRoutes:e.availableRoutes}),d.a.createElement(q.a,{inputtype:"inputSelector",label:"".concat(p?"Middle Banner Image (Inside Banner)":"Middle Banner Image"),name:"midBanner",value:s,onChange:a,onClick:n,clearInput:i}),s&&d.a.createElement(be,{pos:"mid",data:e.itemProps.content,handleCheckbox:t,handleChange:a,handleMediaModal:n,clearInput:i,handleColourPicker:l,availableRoutes:e.availableRoutes}),d.a.createElement(q.a,{inputtype:"inputSelector",label:"".concat(h?"Bottom Banner Image (Inside Banner)":"Bottom Banner Image"),name:"bottomBanner",value:u,onChange:a,onClick:n,clearInput:i}),u&&d.a.createElement(be,{pos:"bottom",data:e.itemProps.content,handleCheckbox:t,handleChange:a,handleMediaModal:n,clearInput:i,handleColourPicker:l,availableRoutes:e.availableRoutes}),d.a.createElement(q.a,{inputtype:"textarea",label:"Main Body Text",name:"mainText",value:m,onChange:a}),d.a.createElement(fe,{data:e.itemProps.content,handleCheckbox:t,handleChange:a,handleMediaModal:n,clearInput:i,handleColourPicker:l,availableRoutes:e.availableRoutes,positionArray:b}),d.a.createElement(q.a,{inputtype:"select",label:"Testimonials Plugin Position",name:"testimonialsPosition",value:g,onChange:a,items:b}),d.a.createElement(Ce,{data:e.itemProps.content,pageID:e.pageId,handleCheckbox:t,handleChange:a,handleMediaModal:n,clearInput:i,handleColourPicker:l,availableRoutes:e.availableRoutes})),d.a.createElement(Ie,null,d.a.createElement(ae.a,Object.assign({pageInfo:e.itemProps},e,{template:e.template,plugins:e.plugins,overlayBlocker:!0,name:e.pageId})))),d.a.createElement(Q.a,{justifyContent:"space-between"},d.a.createElement("div",null,d.a.createElement(Q.a,{justifyContent:"flex-start"},d.a.createElement(Z.a,{margin:"2px 5px 15px 20px",onClick:function(a){a.preventDefault(),e.updatePageSubmit(e.itemProps.content,e.pageId,e.parentId)}},"Update"),e.isUpdating&&d.a.createElement(X.a,null),e.stateBackup&&d.a.createElement(Z.a,{margin:"2px 20px 15px 20px",onClick:e.cancelUpdate},"Undo Changes"))),d.a.createElement(Oe,null,d.a.createElement(_.a,{onClick:function(){e.handlePageDelete(e.pageId,e.parentId)}},d.a.createElement(ee.a,{fontSize:"large"})))))};function Be(){var e=Object(n.a)(["\n  > header {\n    background-color: ",";\n    z-index: 20;\n  }\n"]);return Be=function(){return e},e}var Se=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(t=Object(r.a)(this,(e=Object(c.a)(a)).call.apply(e,[this].concat(l)))).state={value:0,disableTabText:"",topBannerOptions:!0,midBannerOptions:!0,bottomBannerOptions:!0},t.handleChange=function(e,a){t.props.stateBackup||t.setState({value:a})},t}return Object(s.a)(a,e),Object(o.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.stateBackup!==e.stateBackup&&(this.props.stateBackup?this.setState({disableTabText:"You have made updates to this page, please save or undo your changes before selecting a new page"}):this.setState({disableTabText:""}))}},{key:"render",value:function(){var e=this,a=this.state.value,t=this.props,n=t.navigationItems,l=t.parent,i=t.parentId;console.log("tabMenu props",this.props);var o=null,r=null;return null!==n&&(o=Object.keys(n).map(function(e,a){var t=n[e];return d.a.createElement(R.a,{key:a,label:l?l.props.children+" - "+t.title:t.title})}),r=Object.keys(n).map(function(t,l){return a===l&&d.a.createElement(je,{key:l,pageId:t,parentId:i||null,itemProps:n[t],onChange:e.props.onChange,handlePageDelete:e.props.handlePageDelete,openMediaModal:e.props.openMediaModal,updatePageSubmit:e.props.updatePageSubmit,isUpdating:e.props.isUpdating,cancelUpdate:e.props.cancelUpdate,stateBackup:e.props.stateBackup,availableRoutes:e.props.availableRoutes,template:e.props.template,plugins:e.props.plugins},d.a.createElement("h2",null,n[t].title))})),null===r&&null===o?d.a.createElement("div",null):d.a.createElement(we,null,d.a.createElement(A.a,{title:this.state.disableTabText},d.a.createElement(P.a,{position:"static"},d.a.createElement(T.a,{value:a,onChange:this.handleChange,variant:"scrollable",scrollButtons:"auto"},o))),r,this.props.isError&&d.a.createElement(Y,{message:this.props.isError,error:!0}))}}]),a}(u.Component),we=v.b.div(Be(),function(e){return e.theme.primaryBackGroundColour}),Pe=t(905),Me=t.n(Pe),Te=t(914),Ue=t.n(Te),Re=t(916),De=t.n(Re),Ae=t(912),Le=t.n(Ae),He=function(e){var a=!e.fullWidth||e.fullWidth,t=e.maxWidth?e.maxWidth:"lg";return d.a.createElement("div",null,d.a.createElement(Me.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"form-dialog-title",fullWidth:a,maxWidth:t},d.a.createElement(Le.a,{id:"form-dialog-title"},e.title),d.a.createElement(Ue.a,null,d.a.createElement(De.a,null,e.description),d.a.createElement("br",null),d.a.createElement("br",null),e.children)))},Ne=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(t=Object(r.a)(this,(e=Object(c.a)(a)).call.apply(e,[this].concat(o)))).state={title:"",checked:!1,selectVal:null},t.handleCheckbox=function(e){return function(a){t.setState(Object(l.a)({},e,a.target.checked))}},t.onChange=function(e){t.setState({selectVal:e.target.value})},t.onInputChange=function(e){var a=e.target,n=a.value,i=a.name,o=n.replace(/[^\w\s]/gi,"");t.setState(Object(l.a)({},i,o))},t}return Object(s.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){if(null!==this.props.navigationItems){var e="";for(var a in this.props.navigationItems){e=this.props.navigationItems[a].title;break}this.setState({selectVal:e})}}},{key:"render",value:function(){var e=this;return console.log("newpageForm props",this.props),d.a.createElement("div",null,d.a.createElement("form",null,d.a.createElement(q.a,{inputtype:"input",label:"Page Title",name:"title",value:this.state.title,onChange:this.onInputChange}),null!==this.props.navigationItems&&d.a.createElement("div",null,d.a.createElement(q.a,{inputtype:"checkbox",sideLabel:"Is this a dropdown SubPage",checked:this.state.checked,handleChange:this.handleCheckbox}),d.a.createElement("br",null),this.state.checked&&d.a.createElement(q.a,{inputtype:"select",value:this.state.selectVal,label:"Choose the parent page for this Subpage",items:this.props.navigationItems,onChange:this.onChange}))),d.a.createElement(Q.a,{justifyContent:"flex-end",margin:"5px"},d.a.createElement(Z.a,{onClick:this.props.handleClose},"Cancel"),d.a.createElement(Z.a,{onClick:function(){return e.props.handleSubmit(e.state)},disabled:""===this.state.title},"Confirm"),this.props.loading&&d.a.createElement(X.a,null)))}}]),a}(u.Component),_e=t(114),We=t(950),ze=(t(191),t(23)),Fe=t.n(ze),Ve=t(927),Ge=t.n(Ve),Ye=t(919),Ke=t.n(Ye),Je=t(921),qe=t.n(Je),Ze=t(925),Qe=t.n(Ze),Xe=t(923),$e=t.n(Xe);function ea(){var e=Object(n.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  /* justify-content: space-around; */\n  overflow: hidden;\n  margin: 20px 0;\n  padding: 10px;\n\n  .gridlist {\n    width: 100%;\n    height: 450px;\n  }\n\n  .media {\n    padding: 3px;\n    cursor: pointer;\n    -webkit-transition: border 0.2s ease-in-out, box-shadow 0.2s ease-in-out;\n    -moz-transition: border 0.2s ease-in-out, box-shadow 0.2s ease-in-out;\n    -ms-transition: border 0.2s ease-in-out, box-shadow 0.2s ease-in-out;\n    -o-transition: border 0.2s ease-in-out, box-shadow 0.2s ease-in-out;\n    transition: border 0.2s ease-in-out, box-shadow 0.2s ease-in-out;\n  }\n\n  .media.active {\n    border: 1px solid #09c;\n    border-radius: 5px;\n    box-shadow: 1px 1px 7px rgba(0, 200, 204, 0.7);\n    outline: none;\n  }\n\n  .gridIcon {\n    color: rgba(255, 255, 255, 0.54);\n  }\n"]);return ea=function(){return e},e}var aa=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(t=Object(r.a)(this,(e=Object(c.a)(a)).call.apply(e,[this].concat(l)))).state={columns:5,spacing:20,activeIndex:null,selectedValue:"",selectedName:""},t.handleResize=function(){var e=window.innerWidth,a=(e>768?5:e<=480&&1)||3,n=e>768?20:8;t.setState({columns:a,spacing:n})},t.handleSelect=function(e,a,n){t.props.selectedImage(a,n)},t}return Object(s.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize),this.handleResize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"render",value:function(){var e=this,a=this.props.tileData;return a&&a.length?d.a.createElement(ta,null,d.a.createElement(Ke.a,{cellHeight:180,className:"gridList",cols:this.state.columns,spacing:this.state.spacing},d.a.createElement(qe.a,{key:"Subheader",cols:this.state.columns,style:{height:"auto"}},d.a.createElement($e.a,{component:"div"},"This is where your current websites images located.")),a.map(function(a,t){var n=e.props.selectedIndex===t?"media active":"media";return d.a.createElement(qe.a,{key:a.title,className:n,onClick:function(n){return e.handleSelect(n,t,a)}},d.a.createElement("img",{src:a.img,alt:a.title}),d.a.createElement(Qe.a,{title:a.title,actionIcon:!e.props.isModal&&d.a.createElement(_.a,{className:"gridIcon",onClick:function(){return e.props.deleteImage(a.img,a.title)}},d.a.createElement(ee.a,null))}))}))):d.a.createElement("div",null)}}]),a}(u.Component),ta=v.b.div(ea()),na=aa;function la(){var e=Object(n.a)(["\n  margin-top: -40px;\n"]);return la=function(){return e},e}function ia(){var e=Object(n.a)(["\n  border-style: dotted;\n  padding: 5px 20px;\n  margin: 20px 5px;\n  cursor: pointer;\n\n  /* desktop */\n  @media (min-width: 500px) {\n    min-width: 455px;\n  }\n"]);return ia=function(){return e},e}var oa=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(t=Object(r.a)(this,(e=Object(c.a)(a)).call.apply(e,[this].concat(o)))).state={uploadOpen:!1,error:null,customURL:!1,customURLtext:"",activeIndex:null,selectedValue:"",selectedName:"",deleteImgOpen:!1},t.getImageUrls=function(){var e=Object(p.a)(Object(p.a)(t)),a=[],n=Object.keys(t.props.currentImages).length,l=0,i=b.a.storage().ref();Object.keys(t.props.currentImages).map(function(o,r){var c=t.props.currentImages[o];return i.child("".concat("infinitydjs","/").concat(c)).getDownloadURL().then(function(t){a=[].concat(Object(_e.a)(a),[{title:c,img:t,key:o}]),n===++l&&e.props.setMediaImages(a)}).catch(function(e){console.log(e)})})},t.onDrop=function(e,a){if(console.log("accepted",e),console.log("rejected",a),0===a.length){if(b.a.auth().currentUser){console.log("user is signed in");var n=e[0];if(t.checkFileAlreadyExists(n))return void t.setState({error:"".concat(n.name," already exists, please remove the old image first")});b.a.storage().ref().child("".concat("infinitydjs","/").concat(n.name)).put(n).then(function(e){console.log("Uploaded a blob or file!"),console.log(e),t.addImageRefToDb(n)}).catch(function(e){console.log(e)})}else console.log(" No user is signed in."),t.props.isTimedOut()}else t.setState({error:"Rejected upload, incompatable file detected"})},t.checkFileAlreadyExists=function(e){if(null!==t.props.currentImages)return!!Object.keys(t.props.currentImages).filter(function(a,n){return t.props.currentImages[a]===e.name}).length},t.addImageRefToDb=function(e){var a=b.a.database().ref().child("".concat("infinitydjs","/site/images")).push().key,n=Object(l.a)({},a,e.name),i=Object(p.a)(Object(p.a)(t));return b.a.database().ref().child("".concat("infinitydjs","/site/images")).update(n,function(e){e?console.log("image ref in db write failed...",e):(console.log("image ref in db saved successfully"),i.props.refreshState())})},t.selectedImage=function(e,a){t.setState({customURLtext:"",activeIndex:e,selectedValue:a.img,selectedName:a.title})},t.handleCustomURL=function(e){t.setState({customURLtext:e.target.value,activeIndex:null,selectedValue:"",selectedName:""})},t.confirmImage=function(){var e=t.state,a=e.customURLtext,n=e.selectedValue,l=t.props.tabItemReference,i=a||n;t.props.onChangePageState({name:l[0].name,value:i},l[1],l[2]),t.props.handleClose()},t.deleteImage=function(e,a){console.log(e,a),t.setState({deleteImgOpen:!0})},t.confirmDelete=function(){console.log(t.state,t.props);var e=Object(p.a)(Object(p.a)(t)),a=t.props.imageURLs.find(function(e){return e.title===t.state.selectedName}),n=b.a.storage().ref();console.log("pre delete"),b.a.database().ref().child("".concat("infinitydjs","/site/images/").concat(a.key)).remove().then(function(){console.log("db delete succeeded!"),n.child("".concat("infinitydjs","/").concat(a.title)).delete().then(function(){console.log("storage img deleted"),e.setState({deleteImgOpen:!1}),e.props.refreshState()}).catch(function(e){console.log("storage error",e)})}).catch(function(e){console.log(e)})},t.handleUploadOpen=function(){t.setState({uploadOpen:!t.state.uploadOpen})},t}return Object(s.a)(a,e),Object(o.a)(a,[{key:"componentDidMount",value:function(){console.log("mounted"),this.getImageUrls()}},{key:"componentDidUpdate",value:function(e){null!==this.props.currentImages&&(this.props.currentImages===e.currentImages&&this.props.isAuthenticated===e.isAuthenticated||this.getImageUrls())}},{key:"render",value:function(){var e=this;console.log("media props",this.props);var a=this.state,t=a.error,n=a.uploadOpen,l=a.customURL,i=a.activeIndex,o=a.customURLtext,r=a.selectedName,c=a.selectedValue,s=this.props,p=s.imageURLs,u=s.currentImages,h=null,m=null,g=null;if(0===p.length&&u?g=d.a.createElement("div",null,d.a.createElement("p",null,d.a.createElement("i",null,"Loading media, if nothing appears after ten seconds. Please refresh the page"," ")),d.a.createElement(X.a,null)):null===u&&(g=d.a.createElement("div",null,d.a.createElement("p",null,d.a.createElement("i",null,"Here is where you can add images to your website, Click upload media to create your media library")))),n&&!this.props.isModal&&(h=d.a.createElement(We.a,{onDrop:this.onDrop,multiple:!1,accept:"image/*"},function(e){var a=e.getRootProps,t=e.getInputProps,n=e.isDragActive;return d.a.createElement(ra,Object.assign({},a(),{className:Fe()("dropzone",{"dropzone--isActive":n})}),d.a.createElement("input",t()),n?d.a.createElement("p",null,"Drop files here..."):d.a.createElement("p",null,"Try dropping some files here, or click to select files to upload."))})),this.props.isModal){var b="Current Selection:  ".concat(r);m=d.a.createElement(ca,null,g,d.a.createElement(Q.a,{mobile:!0},d.a.createElement(ne.a,{opacity:l},d.a.createElement(Z.a,{onClick:function(){e.setState({customURL:!1})}},"Use Media Library")),d.a.createElement("h2",null,"OR .."),d.a.createElement(ne.a,{opacity:!l},d.a.createElement(Z.a,{onClick:function(){e.setState({customURL:!0})}}," ",l?"Close":"Use"," custom URL location?"))),l?d.a.createElement(q.a,{inputtype:"input",label:"If you want to use an image stored elsewhere, enter the Url address below",value:o,onChange:this.handleCustomURL}):d.a.createElement("div",null,d.a.createElement(J.a,{elevation:5},d.a.createElement(na,{tileData:this.props.imageURLs,isModal:!0,selectedIndex:i,selectedImage:this.selectedImage})),d.a.createElement(q.a,{inputtype:"input",label:"".concat(c?b:"Select Media Image URL above"),value:c,disabled:!0,placeholder:"No Media image selected"})),d.a.createElement(Ge.a,null),d.a.createElement("br",null),d.a.createElement(Q.a,{mobile:!0},d.a.createElement(Z.a,{onClick:this.props.handleClose},"Cancel"),d.a.createElement(Z.a,{onClick:this.confirmImage},"Confirm Image")),d.a.createElement("br",null))}else m=d.a.createElement("div",null,g,d.a.createElement(Z.a,{onClick:this.handleUploadOpen},n?"Close DropZone":"Upload Media"),h,t&&d.a.createElement("div",null,t),d.a.createElement(J.a,{elevation:7},d.a.createElement(na,{tileData:this.props.imageURLs,isModal:!1,selectedIndex:i,selectedImage:this.selectedImage,deleteImage:this.deleteImage})));return d.a.createElement(d.a.Fragment,null,m,d.a.createElement(He,{open:this.state.deleteImgOpen,handleClose:function(){return e.setState({deleteImgOpen:!1})},title:"Delete image",description:"Are you sure you would like to delete the image ".concat(this.state.selectedName,". \n Please note that anywhere this image is used on the website will no longer work once the image is deleted.")},d.a.createElement(Q.a,null,d.a.createElement(Z.a,{onClick:this.confirmDelete},"Confirm Delete"),d.a.createElement(Z.a,{onClick:function(){return e.setState({deleteImgOpen:!1})}},"Cancel"))))}}]),a}(u.Component),ra=v.b.div(ia()),ca=v.b.div(la()),sa=oa;function pa(){var e=Object(n.a)(["\n  width: 100%;\n"]);return pa=function(){return e},e}var ua=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(t=Object(r.a)(this,(e=Object(c.a)(a)).call.apply(e,[this].concat(l)))).handleChange=function(e){e.preventDefault(),t.props.changeTemplateState(e.target,"template",null)},t.handlesubmit=function(e){e.preventDefault();var a="/".concat("infinitydjs","/site/template");t.props.templateChangeSubmit(a,t.props.template)},t.handleCheckbox=function(e){return function(a){console.log(e,a.target.checked);var n={name:a.target.name,value:a.target.checked};t.props.changeTemplateState(n,"template",null)}},t.handleMediaModal=function(e){e.preventDefault(),t.props.openMediaModal(e.target,"template",null)},t.clearInput=function(e){var a={name:e,value:""};t.props.changeTemplateState(a,"template",null)},t}return Object(s.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){if(!this.props.template)return d.a.createElement("div",null);var e=[{value:"contained"},{value:"outlined"}],a=this.props.template,t=a.navButtons,n=a.siteButtons,l=a.transparentHeader,i=a.navLightTheme,o=a.siteLogo;a.version;return d.a.createElement(da,null,d.a.createElement(Q.a,{mobile:!0},d.a.createElement(q.a,{inputtype:"checkbox",sideLabel:"Is the header toolbar transparent",name:"transparentHeader",checked:l,handleChange:this.handleCheckbox}),d.a.createElement(q.a,{inputtype:"checkbox",sideLabel:"Use Light theme for navigation Bar",name:"navLightTheme",checked:i,handleChange:this.handleCheckbox})),d.a.createElement(q.a,{inputtype:"inputSelector",label:"Website Logo",name:"siteLogo",value:o,onChange:this.handleChange,onClick:this.handleMediaModal,clearInput:this.clearInput}),d.a.createElement("br",null),d.a.createElement(ve.a,{cols:"25% 25%",colsLarge:"35% 35%",colsMed:"50% 50%",colsSmall:"100%"},d.a.createElement(q.a,{inputtype:"select",label:"Header Navigation button style",name:"navButtons",value:t,items:e,onChange:this.handleChange}),d.a.createElement(q.a,{inputtype:"select",label:"Webpage button style",name:"siteButtons",value:n,items:e,onChange:this.handleChange}),d.a.createElement(Z.a,{variant:t},"contained"===t?"Contained Style":"Outlined Style"),d.a.createElement(Z.a,{variant:n},"contained"===n?"Contained Style":"Outlined Style")),d.a.createElement("br",null),d.a.createElement("hr",null),d.a.createElement("br",null),d.a.createElement(Q.a,{justifyContent:"flex-start"},d.a.createElement(Z.a,{margin:"2px 5px 15px 20px",onClick:this.handlesubmit},"Update"),this.props.isUpdating&&d.a.createElement(X.a,null),this.props.stateBackup&&d.a.createElement(Z.a,{margin:"2px 20px 15px 20px",onClick:this.props.cancelUpdate},"Undo Changes")))}}]),a}(u.Component),da=v.b.div(pa()),ha=ua;function ma(){var e=Object(n.a)(["\n  padding: 3vh;\n  display: grid;\n  grid-gap: 8px;\n  grid-template-columns: 65% 35%;\n\n  @media (max-width: 500px) {\n    grid-template-columns: 100%;\n    padding: 0;\n  }\n\n"]);return ma=function(){return e},e}function ga(){var e=Object(n.a)(["\n  display: block;\n  zoom: 30%;\n  padding-top: 56px;\n  box-shadow: 2px 2px 2px;\n"]);return ga=function(){return e},e}var ba=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(t=Object(r.a)(this,(e=Object(c.a)(a)).call.apply(e,[this].concat(l)))).state={previewOpen:!1},t.handleChange=function(e){e.preventDefault(),t.props.changeHomepageState(e.target,"home",null)},t.handlesubmit=function(e){e.preventDefault();var a="/".concat("infinitydjs","/site/home/content");t.props.homepageChangeSubmit(a,t.props.homePage.content)},t.handleCheckbox=function(e){return function(a){console.log(e,a.target.checked);var n={name:a.target.name,value:a.target.checked};t.props.changeHomepageState(n,"home",null)}},t.handleMediaModal=function(e){e.preventDefault(),t.props.openMediaModal(e.target,"home",null)},t.handleColourPicker=function(e){t.props.changeHomepageState(e.target,"home",null)},t.clearInput=function(e){var a={name:e,value:""};t.props.changeHomepageState(a,"home",null)},t}return Object(s.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){if(!this.props.homePage)return d.a.createElement("div",null);var e=this.props.homePage.content,a=e.topBanner,t=e.topBannerHalfwidth,n=e.midBanner,l=e.midBannerHalfwidth,i=e.bottomBanner,o=e.bottomBannerHalfwidth,r=e.mainText,c=e.testimonialsPosition;console.log("Homepage Props",this.props);var s=[{value:"Top"},{value:"Middle"},{value:"Bottom"}];return d.a.createElement("div",{className:"fullwidth"},d.a.createElement(fa,null,d.a.createElement("div",null,d.a.createElement(q.a,{inputtype:"inputSelector",label:"".concat(t?"Top Banner Image (Inside Banner)":"Top Banner Image"),name:"topBanner",value:a,onChange:this.handleChange,onClick:this.handleMediaModal,clearInput:this.clearInput}),a&&d.a.createElement(be,{pos:"top",data:this.props.homePage.content,handleCheckbox:this.handleCheckbox,handleChange:this.handleChange,handleMediaModal:this.handleMediaModal,clearInput:this.clearInput,handleColourPicker:this.handleColourPicker,availableRoutes:this.props.availableRoutes}),d.a.createElement(q.a,{inputtype:"inputSelector",label:"".concat(l?"Middle Banner Image (Inside Banner)":"Middle Banner Image"),name:"midBanner",value:n,onChange:this.handleChange,onClick:this.handleMediaModal,clearInput:this.clearInput}),n&&d.a.createElement(be,{pos:"mid",data:this.props.homePage.content,handleCheckbox:this.handleCheckbox,handleChange:this.handleChange,handleMediaModal:this.handleMediaModal,clearInput:this.clearInput,handleColourPicker:this.handleColourPicker,availableRoutes:this.props.availableRoutes}),d.a.createElement(q.a,{inputtype:"inputSelector",label:"".concat(o?"Bottom Banner Image (Inside Banner)":"Bottom Banner Image"),name:"bottomBanner",value:i,onChange:this.handleChange,onClick:this.handleMediaModal,clearInput:this.clearInput}),i&&d.a.createElement(be,{pos:"bottom",data:this.props.homePage.content,handleCheckbox:this.handleCheckbox,handleChange:this.handleChange,handleMediaModal:this.handleMediaModal,clearInput:this.clearInput,handleColourPicker:this.handleColourPicker,availableRoutes:this.props.availableRoutes}),d.a.createElement(q.a,{inputtype:"textarea",label:"Main Body Text",name:"mainText",value:r,onChange:this.handleChange}),d.a.createElement(fe,{data:this.props.homePage.content,pageID:"home",handleCheckbox:this.handleCheckbox,handleChange:this.handleChange,handleMediaModal:this.handleMediaModal,clearInput:this.clearInput,handleColourPicker:this.handleColourPicker,availableRoutes:this.props.availableRoutes,positionArray:s}),d.a.createElement(q.a,{inputtype:"select",label:"Testimonials Plugin Position",name:"testimonialsPosition",value:c,onChange:this.handleChange,items:s}),d.a.createElement(Ce,{data:this.props.homePage.content,pageID:"home",handleCheckbox:this.handleCheckbox,handleChange:this.handleChange,handleMediaModal:this.handleMediaModal,clearInput:this.clearInput,handleColourPicker:this.handleColourPicker,availableRoutes:this.props.availableRoutes})),d.a.createElement(va,null,d.a.createElement(ae.a,Object.assign({pageInfo:this.props.homePage},this.props,{template:this.props.template,overlayBlocker:!0,name:"Home"})))),d.a.createElement(Q.a,{justifyContent:"flex-start",mobile:!0},d.a.createElement(Z.a,{margin:"2px 5px 15px 20px",onClick:this.handlesubmit,mobileMargin:"15px"},"Update"),this.props.isUpdating&&d.a.createElement(X.a,null),this.props.stateBackup&&d.a.createElement(Z.a,{margin:"2px 20px 15px 20px",onClick:this.props.cancelUpdate,mobileMargin:"0"},"Undo Changes")))}}]),a}(u.Component),va=v.b.div(ga()),fa=v.b.div(ma()),Ca=ba,Ea=t(493),ka=t.n(Ea),xa=t(931),ya=t.n(xa),Ia=t(164),Oa=t.n(Ia),ja=t(929),Ba=t.n(ja),Sa=t(935),wa=t.n(Sa),Pa=t(946),Ma=t.n(Pa);function Ta(){var e=Object(n.a)(["\n    display: flex;\n    flex-wrap: wrap;    \n    margin: ",";\n\n    div {\n      /* margin: ","; */\n      width: ",";\n      /* min-width: ","; */\n      max-width: ",";\n\n      .chips {\n        min-width:auto;\n        display: flex;\n        flex-wrap: wrap;\n        \n\n        .chip{\n          margin: 2px;\n          flex-wrap: wrap;\n          width: auto;\n        }\n\n      }\n      \n      @media(max-width: 500px){\n        width: ",";\n      }\n    }\n\n   \n\n"]);return Ta=function(){return e},e}var Ua={PaperProps:{style:{maxHeight:224,width:250}}},Ra=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(t=Object(r.a)(this,(e=Object(c.a)(a)).call.apply(e,[this].concat(l)))).state={name:[]},t.handleChange=function(e){t.setState({name:e.target.value}),t.props.handleChange&&t.props.handleChange(e)},t}return Object(s.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this.props,a=e.label,t=e.items,n=e.name,l=e.value,i=e.margin,o=e.width;return d.a.createElement(Da,{margin:i,width:o},d.a.createElement(Ba.a,null,d.a.createElement(ya.a,{htmlFor:"select-multiple-chip"},a),d.a.createElement(wa.a,{multiple:!0,value:l||this.state.name,onChange:this.handleChange,input:d.a.createElement(ka.a,{id:"select-multiple-chip"}),name:n,renderValue:function(e){return d.a.createElement("div",{className:"chips"},e.map(function(e){return d.a.createElement(Ma.a,{key:e,label:e,className:"chip"})}))},MenuProps:Ua},t.map(function(e){return d.a.createElement(Oa.a,{key:e,value:e},e)}))))}}]),a}(d.a.Component),Da=v.b.div(Ta(),function(e){return e.margin||"8px"},function(e){return e.margin||"8px"},function(e){return e.width||"400px"},function(e){return e.minwidth||"200px"},function(e){return e.minwidth||"450px"},function(e){return e.mobile||"175px"}),Aa=Ra,La=function(e){if(!e.plugin)return d.a.createElement("div",null);var a=e.plugin,t=a.contactUsActive,n=a.contactUsPages,l=a.contactUsEmail,i=a.contactUsSubjectStrict,o=a.contactUsSubjectSelections;return console.log("contact us settings props",e),d.a.createElement("div",null,d.a.createElement(Q.a,null,d.a.createElement(q.a,{inputtype:"checkbox",sideLabel:"Contact Us Plugin",parentObj:e.parentObj,name:"contactUsActive",checked:t,handleChange:e.handleCheckbox}),t&&d.a.createElement(Aa,{label:"Select the pages where this plugin is available",items:e.availableRoutes,name:"contactUsPages",value:n,handleChange:e.handleChange,margin:"0 10px 20px 15px"})),t&&d.a.createElement(ge,{padding:"20px"},d.a.createElement("div",null,d.a.createElement(q.a,{inputtype:"input",label:"Enter Business email where contact requests are received",parentObj:e.parentObj,name:"contactUsEmail",value:l,onChange:e.handleChange}),d.a.createElement(q.a,{inputtype:"checkbox",sideLabel:"Give email subject options",parentObj:e.parentObj,name:"contactUsSubjectStrict",checked:i,handleChange:e.handleCheckbox}),i&&d.a.createElement(q.a,{inputtype:"input",label:"Enter subject selections seperated by a comma",parentObj:e.parentObj,name:"contactUsSubjectSelections",value:o,onChange:e.handleChange}))))},Ha=function(e){if(!e.plugin)return d.a.createElement("div",null);var a=e.plugin,t=a.bookingActive,n=a.bookingPages,l=a.bookingEmail,i=a.bookingForm,o=a.bookingCalendarID,r=a.bookingApiKey,c=a.bookingTimeSlotsAvailable,s=a.bookingTimeSlots,p=a.bookingGetCalandarAdvance,u=a.bookingSessions,h=a.bookingSubjectStrict,m=a.bookingSubjectSelections;return console.log("booking settings props",e),d.a.createElement("div",null,d.a.createElement(Q.a,null,d.a.createElement(q.a,{inputtype:"checkbox",sideLabel:"Booking Plugin",parentObj:e.parentObj,name:"bookingActive",checked:t,handleChange:e.handleCheckbox}),t&&d.a.createElement(Aa,{label:"Select the pages where this plugin is available",items:e.availableRoutes,name:"bookingPages",value:n,handleChange:e.handleChange,margin:"0 10px 20px 15px"})),t&&d.a.createElement(ge,{emptyHeight:"200px",padding:"20px"},d.a.createElement("div",null,d.a.createElement(q.a,{inputtype:"input",label:"Enter Business email where bookings are received",parentObj:e.parentObj,name:"bookingEmail",value:l,onChange:e.handleChange}),d.a.createElement(q.a,{inputtype:"input",label:"Google Calendar Id",parentObj:e.parentObj,name:"bookingCalendarID",value:o,onChange:e.handleChange}),d.a.createElement(q.a,{inputtype:"input",label:"Google Calendar Api Key",parentObj:e.parentObj,name:"bookingApiKey",value:r,onChange:e.handleChange}),d.a.createElement(q.a,{inputtype:"checkbox",sideLabel:"Include Contact form with booking calendar",parentObj:e.parentObj,name:"bookingForm",checked:i,handleChange:e.handleCheckbox}),d.a.createElement("br",null),d.a.createElement("h2",null,"Booking Calandar options"),d.a.createElement(q.a,{inputtype:"checkbox",sideLabel:"Timeslots available (leave unticked if booking times do not repeat)",parentObj:e.parentObj,name:"bookingTimeSlotsAvailable",checked:c,handleChange:e.handleCheckbox}),c&&d.a.createElement(q.a,{inputtype:"input",label:"Enter the timeslots when events can be booked on a daily bases",parentObj:e.parentObj,name:"bookingTimeSlots",value:s,placeholder:"eg 24 hour format..  09:30-10:00, 10:00-10:30, 14:30-15:00",onChange:e.handleChange}),d.a.createElement(q.a,{inputtype:"select",label:"Select how far in the future customers can book",value:p,name:"bookingGetCalandarAdvance",items:[{value:"1 month"},{value:"2 months"},{value:"3 months"},{value:"6 months"},{value:"9 months"},{value:"12 months"}],onChange:e.handleChange}),d.a.createElement(q.a,{inputtype:"input",type:"number",label:c?"Booking sessions available per timeslot":"Booking sessions available per day",parentObj:e.parentObj,name:"bookingSessions",value:u,placeholder:c?'eg. Entering "6" will allow 6 bookings per timeslot':'eg. Entering "6" will allow 6 bookings per day',onChange:e.handleChange}),d.a.createElement("h2",null,"Booking Email Options"),d.a.createElement(q.a,{inputtype:"checkbox",sideLabel:"Give email subject options",parentObj:e.parentObj,name:"bookingSubjectStrict",checked:h,handleChange:e.handleCheckbox}),h&&d.a.createElement(q.a,{inputtype:"input",label:"Enter subject selections seperated by a comma",parentObj:e.parentObj,name:"bookingSubjectSelections",value:m,onChange:e.handleChange}))))},Na=function(e){if(!e.plugin)return d.a.createElement("div",null);var a=e.plugin,t=a.testimonialsActive,n=a.testimonialsPages;a.testimonialsEmail;return console.log("Testimonals settings props",e),d.a.createElement("div",null,d.a.createElement(Q.a,null,d.a.createElement(q.a,{inputtype:"checkbox",sideLabel:"Testimonals Plugin",parentObj:e.parentObj,name:"testimonialsActive",checked:t,handleChange:e.handleCheckbox}),t&&d.a.createElement(Aa,{label:"Select the pages where this plugin is available",items:e.availableRoutes,name:"testimonialsPages",value:n,handleChange:e.handleChange,margin:"0 10px 20px 15px"})))};function _a(){var e=Object(n.a)(["\n  width: 100%;\n"]);return _a=function(){return e},e}var Wa=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(t=Object(r.a)(this,(e=Object(c.a)(a)).call.apply(e,[this].concat(o)))).state={contactUsPlugin:!1},t.accordianClick=function(e){t.setState(Object(l.a)({},e,!t.state[e]))},t.handleChange=function(e,a){t.props.changePluginState(e.target,"plugins",a)},t.handleCheckbox=function(e,a){return function(n){console.log(e,a,n.target.checked);var l={name:n.target.name,value:n.target.checked};t.props.changePluginState(l,"plugins",a)}},t.handlesubmit=function(e){e.preventDefault();var a="/".concat("infinitydjs","/site/plugins");t.props.pluginsChangeSubmit(a,t.props.plugins)},t}return Object(s.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this;if(!this.props.plugins)return d.a.createElement("div",null,d.a.createElement(X.a,null));console.log("plugins props",this.props);var a=this.props.availableRoutes.map(function(e){return("/"===e.value?"home":e.value).split("/").pop()});return a.unshift("All Pages"),d.a.createElement("div",null,d.a.createElement(za,null,d.a.createElement(La,{plugin:this.props.plugins.contactUs,name:"contactUsPlugin",parentObj:"contactUs",availableRoutes:a,accordianClick:this.accordianClick,handleCheckbox:this.handleCheckbox,handleChange:function(a){return e.handleChange(a,"contactUs")}}),d.a.createElement("br",null),d.a.createElement("br",null),d.a.createElement(Ha,{plugin:this.props.plugins.booking,name:"bookingPlugin",parentObj:"booking",availableRoutes:a,accordianClick:this.accordianClick,handleCheckbox:this.handleCheckbox,onChange:this.onChange,handleChange:function(a){return e.handleChange(a,"booking")}}),d.a.createElement(Na,{plugin:this.props.plugins.testimonials,name:"testimonialsPlugin",parentObj:"testimonials",availableRoutes:a,accordianClick:this.accordianClick,handleCheckbox:this.handleCheckbox,onChange:this.onChange,handleChange:function(a){return e.handleChange(a,"testimonials")}})),d.a.createElement(Q.a,{justifyContent:"flex-start"},d.a.createElement(Z.a,{margin:"2px 5px 15px 20px",onClick:this.handlesubmit},"Update"),this.props.isUpdating&&d.a.createElement(X.a,null),this.props.stateBackup&&d.a.createElement(Z.a,{margin:"2px 20px 15px 20px",onClick:this.props.cancelUpdate},"Undo Changes")))}}]),a}(u.Component),za=v.b.div(_a()),Fa=Wa,Va=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(t=Object(r.a)(this,(e=Object(c.a)(a)).call.apply(e,[this].concat(o)))).state={email:"",password:""},t.onFormChange=function(e){var a=e.target,n=a.name,i=a.value;t.setState(Object(l.a)({},n,i))},t.submitHandler=function(e){e.preventDefault(),t.props.onAuth(t.state.email,t.state.password,t.props.admin)},t.backToHome=function(){t.props.history.push("/")},t}return Object(s.a)(a,e),Object(o.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.isAuthenticated!==e.isAuthenticated&&this.props.isTimedOut()}},{key:"render",value:function(){console.log("AuthModal page props",this.props);var e=null;return this.props.error&&(e=d.a.createElement("p",null,this.props.error)),d.a.createElement("div",null,d.a.createElement("div",null,"Administrator Login"),d.a.createElement("br",null),d.a.createElement(q.a,{inputtype:"input",placeholder:"email",name:"email",value:this.state.email,onChange:this.onFormChange}),d.a.createElement(q.a,{inputtype:"input",placeholder:"password",name:"password",value:this.state.password,onChange:this.onFormChange}),e,d.a.createElement("br",null),d.a.createElement(Q.a,null,d.a.createElement(Z.a,{onClick:this.backToHome},"Cancel"),d.a.createElement(Z.a,{onClick:this.submitHandler},"Submit")),this.props.loading&&d.a.createElement(X.a,null))}}]),a}(u.Component),Ga=Object(h.connect)(function(e){return{loading:e.auth.loading,error:e.auth.error,admin:e.mainState.admin,isAuthenticated:null!==e.auth.userId}},function(e){return{onAuth:function(a,t,n){return e(m.a(a,t,n))}}})(Va);function Ya(){var e=Object(n.a)(["\n  background-color: #424242;\n  /* min-height: 100vh; */\n  padding: 100px 50px;\n  margin-top: -75px;\n\n  .admin-title {\n    color: #f5f5f5;\n  }\n\n  @media(max-width: 500px){\n    padding: 100px 10px;\n  }\n"]);return Ya=function(){return e},e}var Ka=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(t=Object(r.a)(this,(e=Object(c.a)(a)).call.apply(e,[this].concat(o)))).state={homepage_accordian:!1,navigation_accordian:!1,template_accordian:!1,media_accordian:!1,showSignIn:!1,newPageOpen:!1,deletePageModal:!1,pageToDelete:null,openMediaModal:!1,mediaModalTabItemRef:[],mediaImages:[],newPageToast:null,loading:!1,error:null},t.logoutHandler=function(){b.a.auth().signOut().then(function(){console.log("Signed Out")},function(e){console.error("Sign Out Error",e)}),t.props.onLogoutClick()},t.openMediaModal=function(e,a,n){console.log("opneMedia Modal",e,a,n),t.setState({openMediaModal:!0,mediaModalTabItemRef:[e,a,n]})},t.closeMediaModal=function(){t.setState({openMediaModal:!1})},t.setMediaImages=function(e){t.setState({mediaImages:e})},t.handleNewPageButton=function(e){e.preventDefault(),t.setState({newPageOpen:!t.state.newPageOpen})},t.submitNewPage=function(e){console.log("newPage_State",e);var a=e.title,n=e.checked,i=e.selectVal,o=t.props.navigationItems,r=a.replace(/ /g,"-").toLowerCase(),c={id:Date.now(),mainText:"This is your newly added ".concat(a," page")},s="/".concat("infinitydjs","/site/navigationItems"),u={title:a,route:r,selected:!1,content:c};if(n){var d=null;for(var h in o)o[h].title===i&&(d=h);s="/".concat("infinitydjs","/site/navigationItems/").concat(d,"/dropdownPages"),u={title:a,route:r,content:c}}t.setState({loading:!0,error:null},function(){var e=Object(p.a)(Object(p.a)(t)),a=b.a.database().ref().child(s).push().key,n=Object(l.a)({},a,u);b.a.database().ref().child(s).update(n,function(a){a?e.setState({loading:!1,error:a.code,newPageOpen:!1,showSignIn:!0}):(console.log("new page added successfully!"),e.setState({loading:!1,error:null,newPageOpen:!1,newPageToast:"New Page added successfully"}),e.props.onInitWebsiteState())})})},t.handleDeletePageModal=function(e,a){t.state.deletePageModal?t.setState({deletePageModal:!1,pageToDelete:null}):t.setState({deletePageModal:!0,pageToDelete:{id:e,parentId:a}})},t.submitDeletePage=function(){console.log(t.state.pageToDelete);var e=Object(p.a)(Object(p.a)(t)),a=t.state.pageToDelete,n=a.id,l=a.parentId,i="/".concat("infinitydjs","/site/navigationItems/").concat(n);l&&(i="/".concat("infinitydjs","/site/navigationItems/").concat(l,"/dropdownPages/").concat(n)),b.a.database().ref(i).remove().then(function(){console.log("Remove succeeded."),e.props.onInitWebsiteState(),e.setState({deletePageModal:!1,pageToDelete:null})}).catch(function(e){console.log("Remove failed: "+e.message)})},t.updatePage=function(e,a,n){console.log(e.value,a,n),t.props.onChangePageState(e,a,n)},t.updatePageSubmit=function(e,a,n){console.log(e,a,n);var l=n?"/".concat("infinitydjs","/site/navigationItems/").concat(n,"/dropdownPages/").concat(a,"/content"):"/".concat("infinitydjs","/site/navigationItems/").concat(a,"/content");b.a.auth().currentUser?(console.log("user is signed in"),t.props.onUpdatePageSubmit(l,e)):(console.log(" No user is signed in."),t.setState({showSignIn:!0,error:"Permission denied. Please sign in again to Re-authenticate"}))},t.timedOutUser=function(){b.a.auth().currentUser?t.setState({showSignIn:!1}):(console.log(" No user is signed in."),t.setState({showSignIn:!0}))},t.accordianClick=function(e){t.setState(Object(l.a)({},e,!t.state[e]))},t}return Object(s.a)(a,e),Object(o.a)(a,[{key:"componentWillMount",value:function(){console.log("adminPage - sitename","infinitydjs"),this.props.isAuthenticated||this.props.history.push("/authenticate-admin"),b.a.auth().currentUser?console.log("user is signed in"):console.log(" No user is signed in.")}},{key:"componentDidUpdate",value:function(e){e.isAuthenticated&&!this.props.isAuthenticated&&this.props.history.push("/authenticate-admin")}},{key:"render",value:function(){var e=this;console.log("Admin Page props",this.props);var a=this.state,t=a.media_accordian,n=a.template_accordian,l=a.homepage_accordian,i=a.navigation_accordian,o=a.plugins_accordian;return d.a.createElement(Ja,null,d.a.createElement(Q.a,{justifyContent:"space-between"},d.a.createElement("h1",{className:"admin-title"},"Admin Page"),d.a.createElement(Z.a,{onClick:this.logoutHandler},"logout")),d.a.createElement(He,{open:this.state.showSignIn,title:"You have been logged out",description:"Your administrator session has expired you will need to log back in to continue"},d.a.createElement(Ga,{history:this.props.history,isTimedOut:this.timedOutUser})),d.a.createElement("div",null,d.a.createElement(S,{title:"Media",name:"media_accordian",onClick:function(a){return e.accordianClick(a)}},t&&d.a.createElement(sa,{isAuthenticated:this.props.isAuthenticated,isTimedOut:this.timedOutUser,currentImages:this.props.images,refreshState:this.props.onInitWebsiteState,isModal:!1,imageURLs:this.state.mediaImages,setMediaImages:this.setMediaImages})),d.a.createElement("br",null),d.a.createElement(S,{title:"Template",name:"template_accordian",onClick:function(a){return e.accordianClick(a)}},n&&d.a.createElement(ha,{template:this.props.template,changeTemplateState:this.props.onChangePageState,templateChangeSubmit:this.props.onUpdatePageSubmit,isUpdating:this.props.isUpdating,isError:this.props.isError,stateBackup:this.props.stateBackup,cancelUpdate:this.props.onRevertChanges,openMediaModal:this.openMediaModal})),d.a.createElement("br",null),d.a.createElement(S,{title:"Homepage",name:"homepage_accordian",onClick:function(a){return e.accordianClick(a)}},l&&d.a.createElement(Ca,{homePage:this.props.home,changeHomepageState:this.props.onChangePageState,homepageChangeSubmit:this.props.onUpdatePageSubmit,isUpdating:this.props.isUpdating,isError:this.props.isError,stateBackup:this.props.stateBackup,cancelUpdate:this.props.onRevertChanges,openMediaModal:this.openMediaModal,availableRoutes:this.props.availableRoutes,template:this.props.template,plugins:this.props.plugins})),d.a.createElement("br",null),d.a.createElement(S,{title:"Navigation and Pages",name:"navigation_accordian",onClick:function(a){return e.accordianClick(a)}},i&&d.a.createElement("div",{className:"fullwidth"},d.a.createElement(Z.a,{onClick:this.handleNewPageButton},"Add a new page"),d.a.createElement(He,{open:this.state.newPageOpen,navigationItems:this.props.navigationItems,handleClose:this.handleNewPageButton,title:"Add a new Webpage",description:"Here you can add a new page to your website which will show in the header navigation. You can also make the new page a subpage of another navigation link"},d.a.createElement(Ne,{loading:this.state.loading,navigationItems:this.props.navigationItems,handleClose:this.handleNewPageButton,handleSubmit:this.submitNewPage})),d.a.createElement(He,{open:this.state.deletePageModal,navigationItems:this.props.navigationItems,handleClose:this.handleDeletePageModal,title:"Delete Webpage",description:"You are about to delete selected page this is a permanent action, would you like to continue with deleting this page"},d.a.createElement(Q.a,null,d.a.createElement(Z.a,{onClick:this.submitDeletePage},"Delete"),d.a.createElement(Z.a,{onClick:this.handleDeletePageModal},"Cancel"))),d.a.createElement("br",null),d.a.createElement("br",null),d.a.createElement(Se,{navigationItems:this.props.navigationItems,updatePageSubmit:this.updatePageSubmit,onChange:this.updatePage,openMediaModal:this.openMediaModal,handlePageDelete:this.handleDeletePageModal,isUpdating:this.props.isUpdating,cancelUpdate:this.props.onRevertChanges,isError:this.props.isError,stateBackup:this.props.stateBackup,availableRoutes:this.props.availableRoutes,template:this.props.template,plugins:this.props.plugins}),d.a.createElement("br",null))),d.a.createElement("br",null),d.a.createElement(S,{title:"Plugins",name:"plugins_accordian",onClick:function(a){return e.accordianClick(a)}},o&&d.a.createElement(Fa,{plugins:this.props.plugins,changePluginState:this.props.onChangePageState,pluginsChangeSubmit:this.props.onUpdatePageSubmit,availableRoutes:this.props.availableRoutes,isUpdating:this.props.isUpdating,isError:this.props.isError,stateBackup:this.props.stateBackup,cancelUpdate:this.props.onRevertChanges})),d.a.createElement(He,{open:this.state.openMediaModal,title:"Choose an image",description:"Select the media location you would like to use",handleClose:this.closeMediaModal},d.a.createElement(sa,{isModal:!0,isAuthenticated:this.props.isAuthenticated,handleClose:this.closeMediaModal,currentImages:this.props.images,imageURLs:this.state.mediaImages,setMediaImages:this.setMediaImages,tabItemReference:this.state.mediaModalTabItemRef,onChangePageState:this.props.onChangePageState}))),null!==this.state.newPageToast&&d.a.createElement(Y,{message:this.state.newPageToast}),null!==this.props.updatePageToast&&d.a.createElement(Y,{message:this.props.updatePageToast}),this.state.error&&d.a.createElement(Y,{message:this.state.error,error:!0}))}}]),a}(u.Component),Ja=v.b.div(Ya());a.a=Object(h.connect)(function(e){return{isAuthenticated:null!==e.auth.userId,userId:e.auth.userId,home:e.mainState.home,navigationItems:e.mainState.navigationItems,images:e.mainState.images,stateBackup:e.mainState.state_copy,updatePageToast:e.admin.pageUpdateToast,isUpdating:e.admin.loading,isError:e.admin.error,availableRoutes:e.admin.routes,template:e.mainState.template,plugins:e.mainState.plugins}},function(e){return{onInitWebsiteState:function(){return e(m.c())},onLogoutClick:function(){return e(m.d())},onChangePageState:function(a,t,n){return e(m.b(a,t,n))},onUpdatePageSubmit:function(a,t){return e(m.g(a,t))},onRevertChanges:function(){return e(m.e())}}})(Ka)},956:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),i=t(34),o=t(117),r=t(583);a.default=Object(i.connect)(function(e){return{currentUser:e.auth.currentUser}},null)(function(e){e.currentUser;return l.a.createElement(o.a,{id:"admin",title:"Admin",noCrawl:!0},l.a.createElement(r.a,null))})},957:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),i=t(117),o=t(583);a.default=function(e){return console.log("admin_TEST.props",e),l.a.createElement(i.a,{id:"admin",title:"Admin",noCrawl:!0},l.a.createElement(o.a,e))}}}]);
//# sourceMappingURL=admin.f93f404d.chunk.js.map