(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,n){e.exports=n.p+"static/media/pekka.1eab475c.jpg"},102:function(e,t,n){e.exports=n.p+"static/media/arvidsson.4d6f8e0d.jpg"},106:function(e,t,n){e.exports=n(213)},209:function(e,t,n){},211:function(e,t,n){},213:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(53),i=n(12),c=n(16),u=n.n(c),s=n(77),l=n(35),d=n(15),p=n(100),m=n(9),h=n(43),f=n(79),g=n(8),b=n(3),E=function(e,t){return Object(b.a)({},e,t)},v=function(e,t,n,a){return Object(b.a)({},e,{home:Object(b.a)({},e.home,{content:Object(b.a)({},e.home.content,Object(g.a)({},n,a))})})},O=function(e,t,n,a){return Object(b.a)({},e,{plugins:Object(b.a)({},e.plugins,Object(g.a)({},t.parentId,Object(b.a)({},e.plugins[t.parentId],Object(g.a)({},n,a))))})},j=function(e,t,n,a){return Object(b.a)({},e,{navigationItems:Object(b.a)({},e.navigationItems,Object(g.a)({},t.id,Object(b.a)({},e.navigationItems[t.id],{content:Object(b.a)({},e.navigationItems[t.id].content,Object(g.a)({},n,a))})))})},y=function(e,t,n,a){return Object(b.a)({},e,{navigationItems:Object(b.a)({},e.navigationItems,Object(g.a)({},t.parentId,Object(b.a)({},e.navigationItems[t.parentId],{dropdownPages:Object(b.a)({},e.navigationItems[t.parentId].dropdownPages,Object(g.a)({},t.id,Object(b.a)({},e.navigationItems[t.parentId].dropdownPages[t.id],{content:Object(b.a)({},e.navigationItems[t.parentId].dropdownPages[t.id].content,Object(g.a)({},n,a))})))})))})},w=function(e,t,n,a){var r=Object.assign({},t),o=Object.keys(e).filter(function(t,n){return""===e[t]});return Object.keys(e).map(function(t,i){e[t];return o.map(function(e){if(t.includes(e))return r=a(r,n,t,"")})}),r},T={home:null,navigationItems:null,admin:null,images:null,state_copy:null,template:null,plugins:null},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETDATA":return function(e,t){return E(e,{home:t.data.home,navigationItems:t.data.navigationItems||null,images:t.data.images,template:t.data.template,plugins:t.data.plugins,admin:t.data.administrator})}(e,t);case"CHANGE_PAGE_DATA":return function(e,t){var n=t.eventTarget,a=n.name,r=n.value,o={};if("template"===t.id){var i=Object.assign({},e[t.id],Object(g.a)({},a,r));return E(e,Object(g.a)({},t.id,i))}return"plugins"===t.id?(o=O(e,t,a,r),""===r&&(o=w(o.plugins[t.parentId],o,t,O)),o):"home"===t.id?(o=v(e,0,a,r),""===r&&(o=w(o.home.content,o,t,v)),o):null===t.parentId?(o=j(e,t,a,r),""===r&&(o=w(o.navigationItems[t.id].content,o,t,j)),o):t.parentId&&t.id?(o=y(e,t,a,r),""===r&&(o=w(o.navigationItems[t.parentId].dropdownPages[t.id].content,o,t,y)),o):void console.error("no updateState conditions were met")}(e,t);case"CHECK_STATE_BACKUP":return function(e,t){return null===e.state_copy?E(e,{state_copy:e}):e}(e);case"REMOVE_STATE_BACKUP":return function(e,t){return E(e,{state_copy:null})}(e);case"REVERT_STATE_CHANGE":return function(e,t){return null!==e.state_copy?E(e,{home:e.state_copy.home,navigationItems:e.state_copy.navigationItems,template:e.state_copy.template,state_copy:null}):e}(e);default:return e}},A={loading:!1,error:null,pageUpdateToast:null,routes:null},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_PAGE_START":return function(e,t){return E(e,{loading:!0,error:null})}(e);case"UPDATE_PAGE_SUCCESS":return function(e,t){return E(e,{loading:!1,error:null,pageUpdateToast:"Your page was succefully updated"})}(e);case"UPDATE_PAGE_FAIL":return function(e,t){return E(e,{loading:!1,error:t.error.message})}(e,t);case"RESET_UPDATE_TOAST":return function(e,t){return E(e,{pageUpdateToast:null})}(e);case"STORE_PAGE_ROUTES":return function(e,t){return E(e,{routes:t.routes})}(e,t);default:return e}},P=Object(d.c)({auth:h.a,profile:f.a,mainState:_,admin:I}),S=!("undefined"!==typeof window&&window.document&&window.document.createElement),R=n(36),U=n(37),k=n(39),C=n(38),x=n(40),N=n(78),D=n(80),M=n.n(D),W=(n(28),n(626)),X=[{to:"/",text:"Homepage"},{to:"/about",text:"About"},{to:"/book-now",text:"Boow Now"},{to:"/profile/1",text:"Profile 1"},{to:"/profile/2",text:"Profile 2"},{to:"/login",text:"Login",auth:!1},{to:"/dashboard",text:"Dashboard",auth:!0},{to:"/logout",text:"Logout",auth:!0},{to:"/this-is-broken",text:"Broken Page"}],G=function(e,t){return"/"===e&&t===e||!("/"===e||!t.includes(e))},H=function(e){var t=e.to,n=e.text,a=e.current;return r.a.createElement("li",{className:G(t,a)?"current":""},r.a.createElement(W.a,{to:t},n))},L=function(e){var t=e.isAuthenticated,n=e.current;return r.a.createElement("header",{id:"header"},r.a.createElement("h1",{id:"title"},"My awesome website"),r.a.createElement("ul",{id:"links"},X.map(function(e,a){var o=r.a.createElement(H,Object.assign({key:a,current:n},e));return e.hasOwnProperty("auth")?e.auth&&t?o:e.auth||t?null:o:o})))},F=n(74),B=n(627),J=n(629),K=n(27),V=n(628),q=Object(i.connect)(function(e){return{isAuthenticated:e.auth.isAuthenticated}},null)(function(e){var t=e.component,n=Object(K.a)(e,["component"]);return r.a.createElement(B.a,Object.assign({},n,{render:function(e){return n.isAuthenticated?r.a.createElement(t,e):r.a.createElement(V.a,{to:"/login?redirect=".concat(e.location.pathname)})}}))}),Y=n(103),z=n.n(Y),Q=Object(i.connect)(function(e){return{isAuthenticated:e.auth.isAuthenticated}},null)(function(e){var t=e.component,n=Object(K.a)(e,["component"]),a=z.a.parse(n.location.search);return r.a.createElement(B.a,Object.assign({},n,{render:function(e){return n.isAuthenticated?r.a.createElement(V.a,{to:a.redirect||"/dashboard"}):r.a.createElement(t,e)}}))}),Z=n(75),$=function(){return r.a.createElement(Z.a,{id:"not-found",title:"Not Found",description:"This is embarrassing.",noCrawl:!0},r.a.createElement("p",null,"Super embarrassing."))},ee=u()({loader:function(){return Promise.all([n.e(7),n.e(1)]).then(n.bind(null,635))},loading:function(){return null},modules:["homepage"]}),te=u()({loader:function(){return n.e(2).then(n.bind(null,630))},loading:function(){return null},modules:["about"]}),ne=u()({loader:function(){return n.e(3).then(n.bind(null,631))},loading:function(){return null},modules:["dashboard"]}),ae=u()({loader:function(){return n.e(4).then(n.bind(null,632))},loading:function(){return null},modules:["login"]}),re=u()({loader:function(){return n.e(5).then(n.bind(null,633))},loading:function(){return null},modules:["logout"]}),oe=u()({loader:function(){return n.e(6).then(n.bind(null,634))},loading:function(){return null},modules:["profile"]}),ie=function(e){console.log("route props",e);e.current;var t=[{value:"/"}],n=[],a=e.data.navigationItems;return a&&(n=Object.keys(a).map(function(e,n){var o=a[e];return o.dropdownPages?Object.keys(o.dropdownPages).map(function(e,n){var a=o.dropdownPages[e];return t=[].concat(Object(F.a)(t),[{value:"/pages/"+a.route}]),r.a.createElement(B.a,{key:n,path:"/pages/"+a.route,render:function(e){return r.a.createElement(ee,{pageInfo:a})}})}):(t=[].concat(Object(F.a)(t),[{value:"/"+o.route}]),r.a.createElement(B.a,{key:n,path:"/"+o.route,render:function(e){return r.a.createElement(ee,{pageInfo:o})}}))})),r.a.createElement(J.a,null,r.a.createElement(B.a,{exact:!0,path:"/",render:function(){return r.a.createElement(ee,{pageInfo:e.data.home})}}),r.a.createElement(B.a,{exact:!0,path:"/admin",component:te}),r.a.createElement(B.a,{exact:!0,path:"/about",component:te}),n,r.a.createElement(B.a,{exact:!0,path:"/profile/:id",component:oe}),r.a.createElement(q,{exact:!0,path:"/dashboard",component:ne}),r.a.createElement(Q,{exact:!0,path:"/login",component:ae}),r.a.createElement(q,{exact:!0,path:"/logout",component:re}),r.a.createElement(B.a,{component:$}))},ce=(n(209),function(e){function t(){return Object(R.a)(this,t),Object(k.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(U.a)(t,[{key:"componentWillMount",value:function(){S||this.props.onEstablishCurrentUser()}},{key:"componentDidMount",value:function(){this.props.onInitWebsiteState()}},{key:"render",value:function(){return console.log("isServer",S),console.log("undefined"!==typeof window&&window.document?"client":"server"),console.log("app Props",this.props),r.a.createElement("div",{id:"app"},r.a.createElement(L,{isAuthenticated:this.props.isAuthenticated,current:this.props.location.pathname}),r.a.createElement("div",{id:"content"},r.a.createElement(ie,{data:this.props,current:this.props.location.pathname,storeRoutes:this.props.onStoreRoutes})))}}]),t}(a.Component)),ue=Object(N.a)(Object(i.connect)(function(e){return{isAuthenticated:e.auth.isAuthenticated,home:e.mainState.home,navigationItems:e.mainState.navigationItems,template:e.mainState.template,plugins:e.mainState.plugins}},function(e){return{onInitWebsiteState:function(){return e(function(){var e="https://react-boiler-5ecbd.firebaseio.com/".concat("djHire","/site.json");return function(t){M.a.get(e).then(function(e){console.log("redux initial response",e),t({type:"SETDATA",data:e.data})}).catch(function(e){console.log(e)})}}())},onStoreRoutes:function(t){return e({type:"STORE_PAGE_ROUTES",routes:t})},onEstablishCurrentUser:function(){return e(Object(h.b)())}}})(ce)),se=(n(211),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=S?Object(m.c)({initialEntries:[e]}):Object(m.a)(),n=[p.a,Object(l.routerMiddleware)(t)],a=d.d.apply(void 0,[d.a.apply(void 0,n)].concat([])),r=S?{}:window.__PRELOADED_STATE__;return S||delete window.__PRELOADED_STATE__,{store:Object(d.e)(Object(l.connectRouter)(t)(P),r,a),history:t}}()),le=se.store,de=se.history,pe=r.a.createElement(i.Provider,{store:le},r.a.createElement(l.ConnectedRouter,{history:de},r.a.createElement(s.Frontload,{noServerRender:!0},r.a.createElement(ue,null)))),me=document.querySelector("#root");!0===me.hasChildNodes()?u.a.preloadReady().then(function(){Object(o.hydrate)(pe,me)}):Object(o.render)(pe,me)},43:function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return l});var a=n(3),r=n(52),o=n.n(r),i={isAuthenticated:!1,currentUser:{}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/AUTHENTICATE":return Object(a.a)({},e,{isAuthenticated:t.authenticated});case"auth/SET_CURRENT_USER":return Object(a.a)({},e,{currentUser:t.user});default:return e}};var c=function(e){return function(t){return new Promise(function(n){t({type:"auth/SET_CURRENT_USER",user:e}),o.a.set("mywebsite",e),t({type:"auth/AUTHENTICATE",authenticated:!0}),n(e)})}},u=function(){return function(e){return new Promise(function(t){var n=o.a.getJSON("mywebsite");n?(e(c(n)),t(n)):t({})})}},s=function(e,t){return function(n){return new Promise(function(a,r){var o={email:e,password:t,name:"Awesome User"};n(c(o)),a(o)})}},l=function(){return function(e){return new Promise(function(t){e({type:"auth/AUTHENTICATE",authenticated:!1}),e({type:"auth/SET_CURRENT_USER",user:{}}),o.a.remove("mywebsite"),t({})})}}},75:function(e,t,n){"use strict";var a=n(27),r=n(36),o=n(37),i=n(39),c=n(38),u=n(40),s=n(1),l=n.n(s),d=n(78),p=n(104),m=n.n(p),h=n(97),f=n.n(h),g="https://staging-infinity.herokuapp.com/",b="".concat(g).concat(f.a),E=function(e){function t(){return Object(r.a)(this,t),Object(i.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"getMetaTags",value:function(e,t){var n=e.title,a=e.description,r=e.image,o=e.contentType,i=e.twitter,c=e.noCrawl,u=e.published,s=e.updated,l=e.category,d=e.tags,p=n?(n+" | My Website").substring(0,60):"My Website",m=a?a.substring(0,155):"This is a really awesome website where we can render on the server. Supa cool.",h=r?"".concat(g).concat(r):b,f=[{itemprop:"name",content:p},{itemprop:"description",content:m},{itemprop:"image",content:h},{name:"description",content:m},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:site",content:""},{name:"twitter:title",content:p},{name:"twitter:description",content:m},{name:"twitter:creator",content:i||""},{name:"twitter:image:src",content:h},{property:"og:title",content:p},{property:"og:type",content:o||"website"},{property:"og:url",content:g+t},{property:"og:image",content:h},{property:"og:description",content:m},{property:"og:site_name",content:"My Website"},{property:"fb:app_id",content:"XXXXXXXXX"}];return c&&f.push({name:"robots",content:"noindex, nofollow"}),u&&f.push({name:"article:published_time",content:u}),s&&f.push({name:"article:modified_time",content:s}),l&&f.push({name:"article:section",content:l}),d&&f.push({name:"article:tag",content:d}),f}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.id,r=e.className,o=Object(a.a)(e,["children","id","className"]);return console.log("page wrapper props",this.props),l.a.createElement("div",{id:n,className:r},l.a.createElement(m.a,{htmlAttributes:{lang:"en",itemscope:void 0,itemtype:"http://schema.org/".concat(o.schema||"WebPage")},title:o.title?o.title+" | My Website":"My Website",link:[{rel:"canonical",href:g+this.props.location.pathname}],meta:this.getMetaTags(o,this.props.location.pathname)}),t)}}]),t}(s.Component);t.a=Object(d.a)(E)},79:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"c",function(){return l});var a=n(3),r=n(101),o=n.n(r),i=n(102),c=n.n(i),u={currentProfile:{}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/SET_CURRENT_PROFILE":return Object(a.a)({},e,{currentProfile:t.profile});default:return e}};var s=function(e){return function(t){return new Promise(function(n){setTimeout(function(){var a;a=1===e?{id:e,name:"Pekka Rinne",image:o.a}:{id:e,name:"Viktor Arvidsson",image:c.a},t({type:"auth/SET_CURRENT_PROFILE",profile:a}),n(a)},3e3)})}},l=function(){return function(e){return new Promise(function(t){e({type:"auth/SET_CURRENT_PROFILE",profile:{}}),t({})})}}},97:function(e,t,n){e.exports=n.p+"static/media/logo.8caa15b8.jpg"}},[[106,9,8]]]);
//# sourceMappingURL=main.20bfbe40.chunk.js.map