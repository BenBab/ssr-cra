{"version":3,"sources":["app/routes/login/index.js","modules/auth.js","../node_modules/js-cookie/src/js.cookie.js"],"names":["__webpack_require__","r","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_redux__WEBPACK_IMPORTED_MODULE_1__","redux__WEBPACK_IMPORTED_MODULE_2__","_components_page__WEBPACK_IMPORTED_MODULE_3__","_modules_auth__WEBPACK_IMPORTED_MODULE_4__","connect","dispatch","bindActionCreators","loginUser","props","a","createElement","id","title","description","onClick","setCurrentUser","user","Promise","resolve","type","Cookies","set","authenticated","email","password","reject","name","logoutUser","remove","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_RESULT__","factory","undefined","call","exports","module","OldCookies","window","api","noConflict","extend","i","result","arguments","length","attributes","key","init","converter","value","document","path","defaults","expires","Date","setMilliseconds","getMilliseconds","toUTCString","JSON","stringify","test","e","write","encodeURIComponent","String","replace","decodeURIComponent","escape","stringifiedAttributes","attributeName","cookie","cookies","split","rdecode","parts","slice","join","this","json","charAt","read","parse","get","getJSON","apply","withConverter"],"mappings":"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","file":"static/js/login.443c24e5.chunk.js","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport Page from '../../components/page';\n\nimport { loginUser } from '../../../modules/auth';\n\nconst Login = props => (\n  <Page id=\"login\" title=\"Login\" description=\"We need to log in to stuff.\">\n    <button onClick={() => props.loginUser('user@mydomain.com', 'password123')}>\n      Click the button...\n    </button>\n  </Page>\n);\n\nconst mapDispatchToProps = dispatch =>\n  bindActionCreators({ loginUser }, dispatch);\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(Login);\n","import Cookies from 'js-cookie';\n\nexport const AUTHENTICATE = 'auth/AUTHENTICATE';\nexport const SET_CURRENT_USER = 'auth/SET_CURRENT_USER';\n\nconst initialState = {\n  isAuthenticated: false,\n  currentUser: {}\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case AUTHENTICATE:\n      return {\n        ...state,\n        isAuthenticated: action.authenticated\n      };\n\n    case SET_CURRENT_USER:\n      return {\n        ...state,\n        currentUser: action.user\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const setCurrentUser = user => dispatch =>\n  new Promise(resolve => {\n    dispatch({\n      type: SET_CURRENT_USER,\n      user\n    });\n\n    Cookies.set('mywebsite', user);\n\n    dispatch({\n      type: AUTHENTICATE,\n      authenticated: true\n    });\n\n    resolve(user);\n  });\n\nexport const establishCurrentUser = () => dispatch =>\n  new Promise(resolve => {\n    let userFromCookie = Cookies.getJSON('mywebsite');\n\n    if (userFromCookie) {\n      dispatch(setCurrentUser(userFromCookie));\n      resolve(userFromCookie);\n    } else {\n      resolve({});\n    }\n  });\n\nexport const loginUser = (email, password) => dispatch =>\n  new Promise((resolve, reject) => {\n    const user = {\n      email,\n      password,\n      name: 'Awesome User'\n    };\n\n    dispatch(setCurrentUser(user));\n    resolve(user);\n  });\n\nexport const logoutUser = () => dispatch =>\n  new Promise(resolve => {\n    dispatch({\n      type: AUTHENTICATE,\n      authenticated: false\n    });\n\n    dispatch({\n      type: SET_CURRENT_USER,\n      user: {}\n    });\n\n    Cookies.remove('mywebsite');\n    resolve({});\n  });\n","/*!\n * JavaScript Cookie v2.2.0\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;\n\n(function (factory) {\n  var registeredInModuleLoader = false;\n\n  if (typeof define === 'function' && define.amd) {\n    define(factory);\n    registeredInModuleLoader = true;\n  }\n\n  if (typeof exports === 'object') {\n    module.exports = factory();\n    registeredInModuleLoader = true;\n  }\n\n  if (!registeredInModuleLoader) {\n    var OldCookies = window.Cookies;\n    var api = window.Cookies = factory();\n\n    api.noConflict = function () {\n      window.Cookies = OldCookies;\n      return api;\n    };\n  }\n})(function () {\n  function extend() {\n    var i = 0;\n    var result = {};\n\n    for (; i < arguments.length; i++) {\n      var attributes = arguments[i];\n\n      for (var key in attributes) {\n        result[key] = attributes[key];\n      }\n    }\n\n    return result;\n  }\n\n  function init(converter) {\n    function api(key, value, attributes) {\n      var result;\n\n      if (typeof document === 'undefined') {\n        return;\n      } // Write\n\n\n      if (arguments.length > 1) {\n        attributes = extend({\n          path: '/'\n        }, api.defaults, attributes);\n\n        if (typeof attributes.expires === 'number') {\n          var expires = new Date();\n          expires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\n          attributes.expires = expires;\n        } // We're using \"expires\" because \"max-age\" is not supported by IE\n\n\n        attributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n        try {\n          result = JSON.stringify(value);\n\n          if (/^[\\{\\[]/.test(result)) {\n            value = result;\n          }\n        } catch (e) {}\n\n        if (!converter.write) {\n          value = encodeURIComponent(String(value)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n        } else {\n          value = converter.write(value, key);\n        }\n\n        key = encodeURIComponent(String(key));\n        key = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\n        key = key.replace(/[\\(\\)]/g, escape);\n        var stringifiedAttributes = '';\n\n        for (var attributeName in attributes) {\n          if (!attributes[attributeName]) {\n            continue;\n          }\n\n          stringifiedAttributes += '; ' + attributeName;\n\n          if (attributes[attributeName] === true) {\n            continue;\n          }\n\n          stringifiedAttributes += '=' + attributes[attributeName];\n        }\n\n        return document.cookie = key + '=' + value + stringifiedAttributes;\n      } // Read\n\n\n      if (!key) {\n        result = {};\n      } // To prevent the for loop in the first place assign an empty array\n      // in case there are no cookies at all. Also prevents odd result when\n      // calling \"get()\"\n\n\n      var cookies = document.cookie ? document.cookie.split('; ') : [];\n      var rdecode = /(%[0-9A-Z]{2})+/g;\n      var i = 0;\n\n      for (; i < cookies.length; i++) {\n        var parts = cookies[i].split('=');\n        var cookie = parts.slice(1).join('=');\n\n        if (!this.json && cookie.charAt(0) === '\"') {\n          cookie = cookie.slice(1, -1);\n        }\n\n        try {\n          var name = parts[0].replace(rdecode, decodeURIComponent);\n          cookie = converter.read ? converter.read(cookie, name) : converter(cookie, name) || cookie.replace(rdecode, decodeURIComponent);\n\n          if (this.json) {\n            try {\n              cookie = JSON.parse(cookie);\n            } catch (e) {}\n          }\n\n          if (key === name) {\n            result = cookie;\n            break;\n          }\n\n          if (!key) {\n            result[name] = cookie;\n          }\n        } catch (e) {}\n      }\n\n      return result;\n    }\n\n    api.set = api;\n\n    api.get = function (key) {\n      return api.call(api, key);\n    };\n\n    api.getJSON = function () {\n      return api.apply({\n        json: true\n      }, [].slice.call(arguments));\n    };\n\n    api.defaults = {};\n\n    api.remove = function (key, attributes) {\n      api(key, '', extend(attributes, {\n        expires: -1\n      }));\n    };\n\n    api.withConverter = init;\n    return api;\n  }\n\n  return init(function () {});\n});"],"sourceRoot":""}