{"version":3,"sources":["app/assets/pekka.jpg","app/assets/arvidsson.jpg","store/utility.js","store/reducers/mainStateReducer.js","store/actions/actionTypes.js","store/reducers/adminReducer.js","modules/index.js","store.js","app/header.js","app/components/authenticated-route/index.js","app/components/unauthenticated-route/index.js","app/routes/not-found/index.js","app/routes/index.js","app/app.js","store/actions/mainStateActions.js","App_config.js","store/actions/adminActions.js","index.js","modules/auth.js","app/components/page/index.js","modules/profile.js","app/assets/logo.jpg"],"names":["module","exports","__webpack_require__","p","updateObject","oldObject","updatedProperties","Object","objectSpread","updateHomeState","state","action","name","value","home","content","defineProperty","updatePluginsState","plugins","parentId","updatePageUtil","navigationItems","id","updateSubPageUtil","dropdownPages","cleanPageObj","obj","updatefunction","newState","assign","emptyVals","keys","filter","key","i","map","val","includes","initialState","admin","images","state_copy","template","reducer","arguments","length","undefined","type","data","administrator","setData","_action$eventTarget","eventTarget","updatedState","newStateObj","console","error","updateState","createStateBackup","removeStateBackup","revertState","loading","pageUpdateToast","routes","updatePageStart","updatePageSuccess","message","updatePageFail","resetToast","storeRoutes","combineReducers","auth","profile","mainState","mainStateReducer","adminReducer","isServer","window","document","createElement","links","to","text","isCurrent","current","HeaderLink","_ref","react_default","a","className","Link","header","_ref2","isAuthenticated","link","index","TheLink","header_HeaderLink","hasOwnProperty","connect","Component","component","rest","objectWithoutProperties","Route","render","props","Redirect","concat","location","pathname","query","queryString","parse","search","redirect","not_found","page","title","description","noCrawl","Homepage","Loadable","loader","Promise","all","e","then","bind","modules","About","Dashboard","Login","Logout","Profile","app_routes","log","routesState","dynamicRoutes","item","dropDownItem","toConsumableArray","route","path","pageInfo","Switch","exact","authenticated_route","unauthenticated_route","NotFound","App","this","onEstablishCurrentUser","onInitWebsiteState","onStoreRoutes","withRouter","dispatch","URL","axios","get","response","catch","actions","establishCurrentUser","url","history","createMemoryHistory","initialEntries","createBrowserHistory","middleware","thunk","routerMiddleware","composedEnhancers","compose","apply","applyMiddleware","__PRELOADED_STATE__","store","createStore","connectRouter","rootReducer","Application","es","connected_react_router_lib","react_frontload_lib","noServerRender","app_app","root","querySelector","hasChildNodes","preloadReady","hydrate","currentUser","__webpack_exports__","C_Users_Ben_Documents_Web_Development_ssr_cra_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","authenticated","user","setCurrentUser","resolve","Cookies","set","userFromCookie","getJSON","loginUser","email","password","reject","logoutUser","remove","SITE_URL","defaultImage","logo","Page","image","contentType","twitter","published","updated","category","tags","theTitle","substring","theDescription","theImage","metaTags","itemprop","property","push","_this$props","children","C_Users_Ben_Documents_Web_Development_ssr_cra_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_6___default","react_helmet__WEBPACK_IMPORTED_MODULE_8___default","htmlAttributes","lang","itemscope","itemtype","schema","rel","href","meta","getMetaTags","currentProfile","getCurrentProfile","setTimeout","pekka","arvidsson","removeCurrentProfile"],"mappings":"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","file":"static/js/main.20bfbe40.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/pekka.1eab475c.jpg\";","module.exports = __webpack_public_path__ + \"static/media/arvidsson.4d6f8e0d.jpg\";","export const updateObject = (oldObject, updatedProperties) => {\r\n  return {\r\n    ...oldObject,\r\n    ...updatedProperties\r\n  };\r\n};\r\n\r\nexport const updateHomeState = (state, action, name, value) => {\r\n  return {\r\n    ...state,\r\n    home: {\r\n      ...state.home,\r\n      content: {\r\n        ...state.home.content,\r\n        [name]: value\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\nexport const updatePluginsState = (state, action, name, value) => {\r\n  return {\r\n    ...state,\r\n    plugins: {\r\n      ...state.plugins,\r\n      [action.parentId]: {\r\n        ...state.plugins[action.parentId],\r\n        [name]: value\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\nexport const updatePageUtil = (state, action, name, value) => {\r\n  return {\r\n    ...state,\r\n    navigationItems: {\r\n      ...state.navigationItems,\r\n      [action.id]: {\r\n        ...state.navigationItems[action.id],\r\n        content: {\r\n          ...state.navigationItems[action.id].content,\r\n          [name]: value\r\n        }\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\nexport const updateSubPageUtil = (state, action, name, value) => {\r\n  return {\r\n    ...state,\r\n    navigationItems: {\r\n      ...state.navigationItems,\r\n      [action.parentId]: {\r\n        ...state.navigationItems[action.parentId],\r\n        dropdownPages: {\r\n          ...state.navigationItems[action.parentId].dropdownPages,\r\n          [action.id]: {\r\n            ...state.navigationItems[action.parentId].dropdownPages[action.id],\r\n            content: {\r\n              ...state.navigationItems[action.parentId].dropdownPages[action.id]\r\n                .content,\r\n              [name]: value\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\nexport const cleanPageObj = (obj, state, action, updatefunction) => {\r\n  let newState = Object.assign({}, state);\r\n  const emptyVals = Object.keys(obj).filter((key, i) => {\r\n    let property = obj[key];\r\n    return property === \"\";\r\n  });\r\n\r\n  Object.keys(obj).map((key, i) => {\r\n    let property = obj[key];\r\n    return emptyVals.map(val => {\r\n      if (key.includes(val)) {\r\n        property = \"\";\r\n        return (newState = updatefunction(newState, action, key, property));\r\n      }\r\n    });\r\n  });\r\n\r\n  return newState;\r\n};\r\n","import * as actionTypes from \"../actions/actionTypes\";\r\nimport {\r\n  updateObject,\r\n  updateHomeState,\r\n  updatePluginsState,\r\n  updatePageUtil,\r\n  updateSubPageUtil,\r\n  cleanPageObj\r\n} from \"../utility\";\r\n\r\nconst initialState = {\r\n  home: null,\r\n  navigationItems: null,\r\n  admin: null,\r\n  images: null,\r\n  state_copy: null,\r\n  template: null,\r\n  plugins: null\r\n};\r\n\r\nconst setData = (state, action) => {\r\n  return updateObject(state, {\r\n    home: action.data.home,\r\n    navigationItems: action.data.navigationItems || null,\r\n    images: action.data.images,\r\n    template: action.data.template,\r\n    plugins: action.data.plugins,\r\n    admin: action.data.administrator\r\n  });\r\n};\r\n\r\nconst createStateBackup = (state, action) => {\r\n  if (state.state_copy === null) {\r\n    return updateObject(state, {\r\n      state_copy: state\r\n    });\r\n  } else {\r\n    return state;\r\n  }\r\n};\r\n\r\nconst removeStateBackup = (state, action) => {\r\n  return updateObject(state, {\r\n    state_copy: null\r\n  });\r\n};\r\n\r\nconst updateState = (state, action) => {\r\n  const { name, value } = action.eventTarget;\r\n  let updatedState = {};\r\n  if (action.id === \"template\") {\r\n    const newStateObj = Object.assign({}, state[action.id], { [name]: value });\r\n    return updateObject(state, {\r\n      [action.id]: newStateObj\r\n    });\r\n  } else if (action.id === \"plugins\") {\r\n    updatedState = updatePluginsState(state, action, name, value);\r\n    if (value === \"\") {\r\n      updatedState = cleanPageObj(\r\n        updatedState.plugins[action.parentId],\r\n        updatedState,\r\n        action,\r\n        updatePluginsState\r\n      );\r\n    }\r\n    return updatedState;\r\n  } else if (action.id === \"home\") {\r\n    updatedState = updateHomeState(state, action, name, value);\r\n    if (value === \"\") {\r\n      updatedState = cleanPageObj(\r\n        updatedState.home.content,\r\n        updatedState,\r\n        action,\r\n        updateHomeState\r\n      );\r\n    }\r\n    return updatedState;\r\n  } else if (action.parentId === null) {\r\n    updatedState = updatePageUtil(state, action, name, value);\r\n    if (value === \"\") {\r\n      updatedState = cleanPageObj(\r\n        updatedState.navigationItems[action.id].content,\r\n        updatedState,\r\n        action,\r\n        updatePageUtil\r\n      );\r\n    }\r\n    return updatedState;\r\n  } else if (action.parentId && action.id) {\r\n    updatedState = updateSubPageUtil(state, action, name, value);\r\n    if (value === \"\") {\r\n      updatedState = cleanPageObj(\r\n        updatedState.navigationItems[action.parentId].dropdownPages[action.id]\r\n          .content,\r\n        updatedState,\r\n        action,\r\n        updateSubPageUtil\r\n      );\r\n    }\r\n    return updatedState;\r\n  } else {\r\n    console.error(\"no updateState conditions were met\");\r\n  }\r\n};\r\n\r\nconst revertState = (state, action) => {\r\n  if (state.state_copy !== null) {\r\n    return updateObject(state, {\r\n      home: state.state_copy.home,\r\n      navigationItems: state.state_copy.navigationItems,\r\n      template: state.state_copy.template,\r\n      state_copy: null\r\n    });\r\n  } else {\r\n    return state;\r\n  }\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.SETDATA:\r\n      return setData(state, action);\r\n    case actionTypes.CHANGE_PAGE_DATA:\r\n      return updateState(state, action);\r\n    case actionTypes.CHECK_STATE_BACKUP:\r\n      return createStateBackup(state, action);\r\n    case actionTypes.REMOVE_STATE_BACKUP:\r\n      return removeStateBackup(state, action);\r\n    case actionTypes.REVERT_STATE_CHANGE:\r\n      return revertState(state, action);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","//mainState actions\r\nexport const SETDATA = \"SETDATA\";\r\nexport const CHECK_STATE_BACKUP = \"CHECK_STATE_BACKUP\";\r\nexport const CHANGE_PAGE_DATA = \"CHANGE_PAGE_DATA\";\r\nexport const CHANGE_TEMPLATE_STATE = \"CHANGE_TEMPLATE_STATE\";\r\nexport const CHANGE_HOME_STATE = \"CHANGE_HOME_STATE\";\r\nexport const REVERT_STATE_CHANGE = \"REVERT_STATE_CHANGE\";\r\n\r\n//auth actions\r\nexport const AUTH_START = \"AUTH_START\";\r\nexport const AUTH_SUCCESS = \"AUTH_SUCCESS\";\r\nexport const AUTH_FAILED = \"AUTH_FAILED\";\r\nexport const AUTH_LOGOUT = \"AUTH_LOGOUT\";\r\n\r\n//admin actions\r\nexport const UPDATE_PAGE_START = \"UPDATE_PAGE_START\";\r\nexport const UPDATE_PAGE_SUCCESS = \"UPDATE_PAGE_SUCCESS\";\r\nexport const UPDATE_PAGE_FAIL = \"UPDATE_PAGE_FAIL\";\r\nexport const RESET_UPDATE_TOAST = \"RESET_UPDATE_TOAST\";\r\nexport const REMOVE_STATE_BACKUP = \"REMOVE_STATE_BACKUP\";\r\n\r\nexport const STORE_PAGE_ROUTES = \"STORE_PAGE_ROUTES\";\r\n","import * as actionTypes from \"../actions/actionTypes\";\r\nimport { updateObject } from \"../utility\";\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  error: null,\r\n  pageUpdateToast: null,\r\n  routes: null\r\n};\r\n\r\nconst updatePageStart = (state, action) => {\r\n  return updateObject(state, {\r\n    loading: true,\r\n    error: null\r\n  });\r\n};\r\n\r\nconst updatePageSuccess = (state, action) => {\r\n  return updateObject(state, {\r\n    loading: false,\r\n    error: null,\r\n    pageUpdateToast: \"Your page was succefully updated\"\r\n  });\r\n};\r\n\r\nconst updatePageFail = (state, action) => {\r\n  return updateObject(state, {\r\n    loading: false,\r\n    error: action.error.message\r\n  });\r\n};\r\n\r\nconst resetToast = (state, action) => {\r\n  return updateObject(state, {\r\n    pageUpdateToast: null\r\n  });\r\n};\r\n\r\nconst storeRoutes = (state, action) => {\r\n  return updateObject(state, {\r\n    routes: action.routes\r\n  });\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.UPDATE_PAGE_START:\r\n      return updatePageStart(state, action);\r\n    case actionTypes.UPDATE_PAGE_SUCCESS:\r\n      return updatePageSuccess(state, action);\r\n    case actionTypes.UPDATE_PAGE_FAIL:\r\n      return updatePageFail(state, action);\r\n    case actionTypes.RESET_UPDATE_TOAST:\r\n      return resetToast(state, action);\r\n    case actionTypes.STORE_PAGE_ROUTES:\r\n      return storeRoutes(state, action);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import { combineReducers } from \"redux\";\r\n\r\nimport auth from \"./auth\";\r\nimport profile from \"./profile\";\r\n\r\nimport mainStateReducer from \"../store/reducers/mainStateReducer\";\r\nimport authReducer from \"../store/reducers/authReducer\";\r\nimport adminReducer from \"../store/reducers/adminReducer\";\r\n\r\nexport default combineReducers({\r\n  auth,\r\n  profile,\r\n  mainState: mainStateReducer,\r\n  // auth: authReducer,\r\n  admin: adminReducer\r\n});\r\n","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport { connectRouter, routerMiddleware } from 'connected-react-router';\r\nimport thunk from 'redux-thunk';\r\nimport { createBrowserHistory, createMemoryHistory } from 'history';\r\nimport rootReducer from './modules';\r\n\r\n// A nice helper to tell us if we're on the server\r\nexport const isServer = !(\r\n  typeof window !== 'undefined' &&\r\n  window.document &&\r\n  window.document.createElement\r\n);\r\n\r\nexport default (url = '/') => {\r\n  // Create a history depending on the environment\r\n  const history = isServer\r\n    ? createMemoryHistory({\r\n        initialEntries: [url]\r\n      })\r\n    : createBrowserHistory();\r\n\r\n  const enhancers = [];\r\n\r\n  // Dev tools are helpful\r\n  if (process.env.NODE_ENV === 'development' && !isServer) {\r\n    const devToolsExtension = window.devToolsExtension;\r\n\r\n    if (typeof devToolsExtension === 'function') {\r\n      enhancers.push(devToolsExtension());\r\n    }\r\n  }\r\n\r\n  const middleware = [thunk, routerMiddleware(history)];\r\n  const composedEnhancers = compose(\r\n    applyMiddleware(...middleware),\r\n    ...enhancers\r\n  );\r\n\r\n  // Do we have preloaded state available? Great, save it.\r\n  const initialState = !isServer ? window.__PRELOADED_STATE__ : {};\r\n\r\n  // Delete it once we have it stored in a variable\r\n  if (!isServer) {\r\n    delete window.__PRELOADED_STATE__;\r\n  }\r\n\r\n  // Create the store\r\n  const store = createStore(\r\n    connectRouter(history)(rootReducer),\r\n    initialState,\r\n    composedEnhancers\r\n  );\r\n\r\n  return {\r\n    store,\r\n    history\r\n  };\r\n};\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst links = [\r\n  {\r\n    to: \"/\",\r\n    text: \"Homepage\"\r\n  },\r\n  {\r\n    to: \"/about\",\r\n    text: \"About\"\r\n  },\r\n  {\r\n    to: \"/book-now\",\r\n    text: \"Boow Now\"\r\n  },\r\n  {\r\n    to: \"/profile/1\",\r\n    text: \"Profile 1\"\r\n  },\r\n  {\r\n    to: \"/profile/2\",\r\n    text: \"Profile 2\"\r\n  },\r\n  {\r\n    to: \"/login\",\r\n    text: \"Login\",\r\n    auth: false\r\n  },\r\n  {\r\n    to: \"/dashboard\",\r\n    text: \"Dashboard\",\r\n    auth: true\r\n  },\r\n  {\r\n    to: \"/logout\",\r\n    text: \"Logout\",\r\n    auth: true\r\n  },\r\n  {\r\n    to: \"/this-is-broken\",\r\n    text: \"Broken Page\"\r\n  }\r\n];\r\n\r\nconst isCurrent = (to, current) => {\r\n  if (to === \"/\" && current === to) {\r\n    return true;\r\n  } else if (to !== \"/\" && current.includes(to)) {\r\n    return true;\r\n  }\r\n\r\n  return false;\r\n};\r\n\r\nconst HeaderLink = ({ to, text, current }) => (\r\n  <li className={isCurrent(to, current) ? \"current\" : \"\"}>\r\n    <Link to={to}>{text}</Link>\r\n  </li>\r\n);\r\n\r\nexport default ({ isAuthenticated, current }) => (\r\n  <header id=\"header\">\r\n    <h1 id=\"title\">My awesome website</h1>\r\n    <ul id=\"links\">\r\n      {links.map((link, index) => {\r\n        const TheLink = <HeaderLink key={index} current={current} {...link} />;\r\n\r\n        if (link.hasOwnProperty(\"auth\")) {\r\n          if (link.auth && isAuthenticated) {\r\n            return TheLink;\r\n          } else if (!link.auth && !isAuthenticated) {\r\n            return TheLink;\r\n          }\r\n\r\n          return null;\r\n        }\r\n\r\n        return TheLink;\r\n      })}\r\n    </ul>\r\n  </header>\r\n);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst AuthenticatedRoute = ({ component: Component, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={props =>\r\n      rest.isAuthenticated ? (\r\n        <Component {...props} />\r\n      ) : (\r\n        <Redirect to={`/login?redirect=${props.location.pathname}`} />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: state.auth.isAuthenticated\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  null\r\n)(AuthenticatedRoute);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport queryString from 'query-string';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst UnauthenticatedRoute = ({ component: Component, ...rest }) => {\r\n  let query = queryString.parse(rest.location.search);\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props =>\r\n        !rest.isAuthenticated ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to={query.redirect || '/dashboard'} />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: state.auth.isAuthenticated\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  null\r\n)(UnauthenticatedRoute);\r\n","import React from 'react';\r\nimport Page from '../../components/page';\r\n\r\nexport default () => (\r\n  <Page\r\n    id=\"not-found\"\r\n    title=\"Not Found\"\r\n    description=\"This is embarrassing.\"\r\n    noCrawl\r\n  >\r\n    <p>Super embarrassing.</p>\r\n  </Page>\r\n);\r\n","import React from \"react\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport AuthenticatedRoute from \"../components/authenticated-route\";\r\nimport UnauthenticatedRoute from \"../components/unauthenticated-route\";\r\nimport Loadable from \"react-loadable\";\r\n\r\nimport NotFound from \"./not-found\";\r\n\r\nconst Homepage = Loadable({\r\n  loader: () => import(/* webpackChunkName: \"homepage\" */ \"./homepage\"),\r\n  loading: () => null,\r\n  modules: [\"homepage\"]\r\n});\r\n\r\nconst About = Loadable({\r\n  loader: () => import(/* webpackChunkName: \"about\" */ \"./about\"),\r\n  loading: () => null,\r\n  modules: [\"about\"]\r\n});\r\n\r\nconst Dashboard = Loadable({\r\n  loader: () => import(/* webpackChunkName: \"dashboard\" */ \"./dashboard\"),\r\n  loading: () => null,\r\n  modules: [\"dashboard\"]\r\n});\r\n\r\nconst Login = Loadable({\r\n  loader: () => import(/* webpackChunkName: \"login\" */ \"./login\"),\r\n  loading: () => null,\r\n  modules: [\"login\"]\r\n});\r\n\r\nconst Logout = Loadable({\r\n  loader: () => import(/* webpackChunkName: \"logout\" */ \"./logout\"),\r\n  loading: () => null,\r\n  modules: [\"logout\"]\r\n});\r\n\r\nconst Profile = Loadable({\r\n  loader: () => import(/* webpackChunkName: \"profile\" */ \"./profile\"),\r\n  loading: () => null,\r\n  modules: [\"profile\"]\r\n});\r\n\r\nexport default props => {\r\n  console.log(\"route props\", props);\r\n\r\n  const currentRoute = props.current;\r\n  let routesState = [{ value: \"/\" }];\r\n  let pageInfo = null;\r\n\r\n  let dynamicRoutes = [];\r\n\r\n  const { navigationItems } = props.data;\r\n\r\n  if (navigationItems) {\r\n    dynamicRoutes = Object.keys(navigationItems).map((key, i) => {\r\n      const item = navigationItems[key];\r\n\r\n      if (!item.dropdownPages) {\r\n        routesState = [...routesState, { value: \"/\" + item.route }];\r\n        return (\r\n          <Route\r\n            key={i}\r\n            path={\"/\" + item.route}\r\n            render={props => <Homepage pageInfo={item} />}\r\n          />\r\n        );\r\n      } else {\r\n        return Object.keys(item.dropdownPages).map((key, i) => {\r\n          const dropDownItem = item.dropdownPages[key];\r\n          routesState = [\r\n            ...routesState,\r\n            { value: \"/pages/\" + dropDownItem.route }\r\n          ];\r\n          return (\r\n            <Route\r\n              key={i}\r\n              path={\"/pages/\" + dropDownItem.route}\r\n              render={props => <Homepage pageInfo={dropDownItem} />}\r\n            />\r\n          );\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  // if (props.template){\r\n  //   theme = Object.assign({}, mainTheme, {'navLightTheme': props.template.navLightTheme } )\r\n  // }\r\n\r\n  return (\r\n    <Switch>\r\n      <Route\r\n        exact\r\n        path=\"/\"\r\n        render={() => <Homepage pageInfo={props.data.home} />}\r\n      />\r\n      <Route exact path=\"/admin\" component={About} />\r\n      <Route exact path=\"/about\" component={About} />\r\n\r\n      {dynamicRoutes}\r\n\r\n      <Route exact path=\"/profile/:id\" component={Profile} />\r\n\r\n      <AuthenticatedRoute exact path=\"/dashboard\" component={Dashboard} />\r\n\r\n      <UnauthenticatedRoute exact path=\"/login\" component={Login} />\r\n      <AuthenticatedRoute exact path=\"/logout\" component={Logout} />\r\n\r\n      <Route component={NotFound} />\r\n    </Switch>\r\n  );\r\n};\r\n\r\n// <Route exact path=\"/:id\" component={Homepage} pageInfo={'props.data'}/>\r\n// <Route exact path=\"/pages/:id\" component={Homepage} pageInfo={props.data}/>\r\n\r\n// <Route exact path=\"/pages/:parentId/sub/:id\" component={Homepage} />\r\n","// The basics\r\nimport React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { withRouter } from \"react-router\";\r\n\r\n// Action creators and helpers\r\nimport { establishCurrentUser } from \"../modules/auth\";\r\nimport { isServer } from \"../store\";\r\nimport * as actions from \"../store/actions/index\";\r\n\r\nimport Header from \"./header\";\r\nimport Routes from \"./routes\";\r\n\r\nimport \"./app.css\";\r\n\r\nclass App extends Component {\r\n  componentWillMount() {\r\n    if (!isServer) {\r\n      this.props.onEstablishCurrentUser();\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.onInitWebsiteState();\r\n  }\r\n\r\n  render() {\r\n    console.log(\"isServer\", isServer);\r\n    console.log(\r\n      typeof window !== \"undefined\" && window.document ? \"client\" : \"server\"\r\n    );\r\n    console.log(\"app Props\", this.props);\r\n\r\n    return (\r\n      <div id=\"app\">\r\n        <Header\r\n          isAuthenticated={this.props.isAuthenticated}\r\n          current={this.props.location.pathname}\r\n        />\r\n        <div id=\"content\">\r\n          <Routes\r\n            data={this.props}\r\n            current={this.props.location.pathname}\r\n            storeRoutes={this.props.onStoreRoutes}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: state.auth.isAuthenticated,\r\n  home: state.mainState.home,\r\n  navigationItems: state.mainState.navigationItems,\r\n  template: state.mainState.template,\r\n  plugins: state.mainState.plugins\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onInitWebsiteState: () => dispatch(actions.initWebsiteState()),\r\n    onStoreRoutes: routesState => dispatch(actions.storeRoutes(routesState)),\r\n\r\n    onEstablishCurrentUser: () => dispatch(establishCurrentUser())\r\n  };\r\n};\r\n// bindActionCreators({ establishCurrentUser }, dispatch)\r\n\r\nexport default withRouter(\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )(App)\r\n);\r\n","import * as actionTypes from \"./actionTypes\";\r\nimport axios from \"axios\";\r\nimport { siteName } from \"../../App_config\";\r\n\r\nexport const setDataStore = data => {\r\n  return {\r\n    type: actionTypes.SETDATA,\r\n    data: data\r\n  };\r\n};\r\n\r\nexport const initWebsiteState = () => {\r\n  const URL = `https://react-boiler-5ecbd.firebaseio.com/${siteName}/site.json`;\r\n\r\n  return dispatch => {\r\n    axios\r\n      .get(URL)\r\n      .then(response => {\r\n        console.log(\"redux initial response\", response);\r\n        dispatch(setDataStore(response.data));\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        // dispatch(fetchIngredientsFailed());\r\n      });\r\n  };\r\n};\r\n\r\nexport const changePageState_Start = () => {\r\n  return {\r\n    type: actionTypes.CHECK_STATE_BACKUP\r\n  };\r\n};\r\n\r\nexport const changePageState_update = (eventTarget, key, parent) => {\r\n  console.log(\"action\", eventTarget, key, parent);\r\n  return {\r\n    type: actionTypes.CHANGE_PAGE_DATA,\r\n    eventTarget,\r\n    id: key,\r\n    parentId: parent\r\n  };\r\n};\r\n\r\nexport const revertStateChange = () => {\r\n  return {\r\n    type: actionTypes.REVERT_STATE_CHANGE\r\n  };\r\n};\r\n\r\nexport const changePageState = (eventTarget, key, parent) => {\r\n  return dispatch => {\r\n    dispatch(changePageState_Start());\r\n    dispatch(changePageState_update(eventTarget, key, parent));\r\n  };\r\n};\r\n","export const URL_PREFIX = \"https://react-boiler-5ecbd.firebaseio.com\";\r\nexport const siteName = \"djHire\";\r\nexport const imageLimit = 6; //maybe should be in database\r\n\r\nexport const fireBaseConfig = {\r\n  apiKey: \"AIzaSyCDGAU3I4HyqS9641CCDLCLphNxjCBcC8U\",\r\n  authDomain: \"react-boiler-5ecbd.firebaseapp.com\",\r\n  databaseURL: \"https://react-boiler-5ecbd.firebaseio.com\",\r\n  projectId: \"react-boiler-5ecbd\",\r\n  storageBucket: \"react-boiler-5ecbd.appspot.com\",\r\n  messagingSenderId: \"613732878059\"\r\n};\r\n","import * as actionTypes from \"./actionTypes\";\r\nimport firebase from \"firebase\";\r\n\r\nexport const storeRoutes = routes => {\r\n  return {\r\n    type: actionTypes.STORE_PAGE_ROUTES,\r\n    routes\r\n  };\r\n};\r\n\r\nexport const updatePageStart = () => {\r\n  return {\r\n    type: actionTypes.UPDATE_PAGE_START\r\n  };\r\n};\r\n\r\nexport const updatePageSuccess = () => {\r\n  return {\r\n    type: actionTypes.UPDATE_PAGE_SUCCESS\r\n  };\r\n};\r\n\r\nexport const updatePageFail = error => {\r\n  return {\r\n    type: actionTypes.UPDATE_PAGE_FAIL,\r\n    error: error\r\n  };\r\n};\r\n\r\nexport const removeStateBackup = () => {\r\n  return {\r\n    type: actionTypes.REMOVE_STATE_BACKUP\r\n  };\r\n};\r\n\r\nexport const resetToast = () => {\r\n  return {\r\n    type: actionTypes.RESET_UPDATE_TOAST\r\n  };\r\n};\r\n\r\nconst removeEmptyValues = obj => {\r\n  let cleanedObj = Object.assign({}, obj);\r\n  Object.keys(obj).map((key, i) => {\r\n    let property = obj[key];\r\n    if (property === \"\") {\r\n      property = null;\r\n      return (cleanedObj = { ...cleanedObj, [key]: property });\r\n    }\r\n  });\r\n  return cleanedObj;\r\n};\r\n\r\nexport const updatePageSubmit = (URL, pageInfo) => {\r\n  return dispatch => {\r\n    dispatch(updatePageStart());\r\n    if (!pageInfo) {\r\n      const error = { message: \"INVALID_TITLE\" };\r\n      dispatch(updatePageFail(error));\r\n    } else {\r\n      const cleanedPageObj = removeEmptyValues(pageInfo);\r\n      console.log(\"update page initial\");\r\n      firebase\r\n        .database()\r\n        .ref()\r\n        .child(URL)\r\n        .update(cleanedPageObj, function(err) {\r\n          if (err) {\r\n            // The write failed...\r\n            dispatch(updatePageFail(err.response.data.error));\r\n          } else {\r\n            // Data saved successfully!\r\n            console.log(\"Data saved successfully!\");\r\n            dispatch(updatePageSuccess());\r\n\r\n            dispatch(removeStateBackup());\r\n            setTimeout(() => {\r\n              dispatch(resetToast());\r\n            }, 7000);\r\n          }\r\n        });\r\n    }\r\n  };\r\n};\r\n","import React from 'react';\r\nimport { render, hydrate } from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport Loadable from 'react-loadable';\r\nimport { Frontload } from 'react-frontload';\r\nimport { ConnectedRouter } from 'connected-react-router';\r\nimport createStore from './store';\r\n\r\nimport App from './app/app';\r\nimport './index.css';\r\n\r\n// Create a store and get back itself and its history object\r\nconst { store, history } = createStore();\r\n\r\n// Running locally, we should run on a <ConnectedRouter /> rather than on a <StaticRouter /> like on the server\r\n// Let's also let React Frontload explicitly know we're not rendering on the server here\r\nconst Application = (\r\n  <Provider store={store}>\r\n    <ConnectedRouter history={history}>\r\n      <Frontload noServerRender={true}>\r\n        <App />\r\n      </Frontload>\r\n    </ConnectedRouter>\r\n  </Provider>\r\n);\r\n\r\nconst root = document.querySelector('#root');\r\n\r\nif (root.hasChildNodes() === true) {\r\n  // If it's an SSR, we use hydrate to get fast page loads by just\r\n  // attaching event listeners after the initial render\r\n  Loadable.preloadReady().then(() => {\r\n    hydrate(Application, root);\r\n  });\r\n} else {\r\n  // If we're not running on the server, just render like normal\r\n  render(Application, root);\r\n}\r\n","import Cookies from 'js-cookie';\r\n\r\nexport const AUTHENTICATE = 'auth/AUTHENTICATE';\r\nexport const SET_CURRENT_USER = 'auth/SET_CURRENT_USER';\r\n\r\nconst initialState = {\r\n  isAuthenticated: false,\r\n  currentUser: {}\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case AUTHENTICATE:\r\n      return {\r\n        ...state,\r\n        isAuthenticated: action.authenticated\r\n      };\r\n\r\n    case SET_CURRENT_USER:\r\n      return {\r\n        ...state,\r\n        currentUser: action.user\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setCurrentUser = user => dispatch =>\r\n  new Promise(resolve => {\r\n    dispatch({\r\n      type: SET_CURRENT_USER,\r\n      user\r\n    });\r\n\r\n    Cookies.set('mywebsite', user);\r\n\r\n    dispatch({\r\n      type: AUTHENTICATE,\r\n      authenticated: true\r\n    });\r\n\r\n    resolve(user);\r\n  });\r\n\r\nexport const establishCurrentUser = () => dispatch =>\r\n  new Promise(resolve => {\r\n    let userFromCookie = Cookies.getJSON('mywebsite');\r\n\r\n    if (userFromCookie) {\r\n      dispatch(setCurrentUser(userFromCookie));\r\n      resolve(userFromCookie);\r\n    } else {\r\n      resolve({});\r\n    }\r\n  });\r\n\r\nexport const loginUser = (email, password) => dispatch =>\r\n  new Promise((resolve, reject) => {\r\n    const user = {\r\n      email,\r\n      password,\r\n      name: 'Awesome User'\r\n    };\r\n\r\n    dispatch(setCurrentUser(user));\r\n    resolve(user);\r\n  });\r\n\r\nexport const logoutUser = () => dispatch =>\r\n  new Promise(resolve => {\r\n    dispatch({\r\n      type: AUTHENTICATE,\r\n      authenticated: false\r\n    });\r\n\r\n    dispatch({\r\n      type: SET_CURRENT_USER,\r\n      user: {}\r\n    });\r\n\r\n    Cookies.remove('mywebsite');\r\n    resolve({});\r\n  });\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport Helmet from \"react-helmet\";\r\nimport logo from \"../../assets/logo.jpg\";\r\n\r\nconst SITE_URL =\r\n  process.env.NODE_ENV === \"development\"\r\n    ? \"http://localhost:3000\"\r\n    : \"https://staging-infinity.herokuapp.com/\";\r\n\r\nconst FACEBOOK_APP_ID = \"XXXXXXXXX\";\r\n\r\nconst defaultTitle = \"My Website\";\r\nconst defaultDescription =\r\n  \"This is a really awesome website where we can render on the server. Supa cool.\";\r\nconst defaultImage = `${SITE_URL}${logo}`;\r\nconst defaultTwitter = \"\";\r\nconst defaultSep = \" | \";\r\n\r\nclass Page extends Component {\r\n  getMetaTags(\r\n    {\r\n      title,\r\n      description,\r\n      image,\r\n      contentType,\r\n      twitter,\r\n      noCrawl,\r\n      published,\r\n      updated,\r\n      category,\r\n      tags\r\n    },\r\n    pathname\r\n  ) {\r\n    const theTitle = title\r\n      ? (title + defaultSep + defaultTitle).substring(0, 60)\r\n      : defaultTitle;\r\n    const theDescription = description\r\n      ? description.substring(0, 155)\r\n      : defaultDescription;\r\n    const theImage = image ? `${SITE_URL}${image}` : defaultImage;\r\n\r\n    const metaTags = [\r\n      { itemprop: \"name\", content: theTitle },\r\n      { itemprop: \"description\", content: theDescription },\r\n      { itemprop: \"image\", content: theImage },\r\n      { name: \"description\", content: theDescription },\r\n      { name: \"twitter:card\", content: \"summary_large_image\" },\r\n      { name: \"twitter:site\", content: defaultTwitter },\r\n      { name: \"twitter:title\", content: theTitle },\r\n      { name: \"twitter:description\", content: theDescription },\r\n      { name: \"twitter:creator\", content: twitter || defaultTwitter },\r\n      { name: \"twitter:image:src\", content: theImage },\r\n      { property: \"og:title\", content: theTitle },\r\n      { property: \"og:type\", content: contentType || \"website\" },\r\n      { property: \"og:url\", content: SITE_URL + pathname },\r\n      { property: \"og:image\", content: theImage },\r\n      { property: \"og:description\", content: theDescription },\r\n      { property: \"og:site_name\", content: defaultTitle },\r\n      { property: \"fb:app_id\", content: FACEBOOK_APP_ID }\r\n    ];\r\n\r\n    if (noCrawl) {\r\n      metaTags.push({ name: \"robots\", content: \"noindex, nofollow\" });\r\n    }\r\n\r\n    if (published) {\r\n      metaTags.push({ name: \"article:published_time\", content: published });\r\n    }\r\n    if (updated) {\r\n      metaTags.push({ name: \"article:modified_time\", content: updated });\r\n    }\r\n    if (category) {\r\n      metaTags.push({ name: \"article:section\", content: category });\r\n    }\r\n    if (tags) {\r\n      metaTags.push({ name: \"article:tag\", content: tags });\r\n    }\r\n\r\n    return metaTags;\r\n  }\r\n\r\n  render() {\r\n    const { children, id, className, ...rest } = this.props;\r\n    console.log(\"page wrapper props\", this.props);\r\n    return (\r\n      <div id={id} className={className}>\r\n        <Helmet\r\n          htmlAttributes={{\r\n            lang: \"en\",\r\n            itemscope: undefined,\r\n            itemtype: `http://schema.org/${rest.schema || \"WebPage\"}`\r\n          }}\r\n          title={\r\n            rest.title ? rest.title + defaultSep + defaultTitle : defaultTitle\r\n          }\r\n          link={[\r\n            {\r\n              rel: \"canonical\",\r\n              href: SITE_URL + this.props.location.pathname\r\n            }\r\n          ]}\r\n          meta={this.getMetaTags(rest, this.props.location.pathname)}\r\n        />\r\n        {children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Page);\r\n","import pekka from '../app/assets/pekka.jpg';\r\nimport arvidsson from '../app/assets/arvidsson.jpg';\r\n\r\nexport const SET_CURRENT_PROFILE = 'auth/SET_CURRENT_PROFILE';\r\n\r\nconst initialState = {\r\n  currentProfile: {}\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_CURRENT_PROFILE:\r\n      return {\r\n        ...state,\r\n        currentProfile: action.profile\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const getCurrentProfile = id => dispatch =>\r\n  new Promise(resolve => {\r\n    setTimeout(() => {\r\n      let profile;\r\n\r\n      if (id === 1) {\r\n        profile = {\r\n          id,\r\n          name: 'Pekka Rinne',\r\n          image: pekka\r\n        };\r\n      } else {\r\n        profile = {\r\n          id,\r\n          name: 'Viktor Arvidsson',\r\n          image: arvidsson\r\n        };\r\n      }\r\n\r\n      dispatch({\r\n        type: SET_CURRENT_PROFILE,\r\n        profile\r\n      });\r\n\r\n      resolve(profile);\r\n    }, 3000);\r\n  });\r\n\r\nexport const removeCurrentProfile = () => dispatch =>\r\n  new Promise(resolve => {\r\n    dispatch({\r\n      type: SET_CURRENT_PROFILE,\r\n      profile: {}\r\n    });\r\n\r\n    resolve({});\r\n  });\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.8caa15b8.jpg\";"],"sourceRoot":""}