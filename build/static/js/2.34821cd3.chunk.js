(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{400:function(e,n,t){"use strict";var a=t(9),r=t(0),i=t.n(r),o=t(545),c=t.n(o),s=t(117),l=t(7),u=t(407),p=t.n(u),m=t(542),d=t.n(m),g=t(26),h=t(27),b=t(30),f=t(28),v=t(29),k=t(393),x=t.n(k),y=t(533),E=function(e){function n(){var e,t;Object(g.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(b.a)(this,(e=Object(f.a)(n)).call.apply(e,[this].concat(r)))).state={displayColorPicker:!1,hex:"#FFFFFF",color:{r:"255",g:"255",b:"255",a:"1"}},t.handleClick=function(){t.setState({displayColorPicker:!t.state.displayColorPicker})},t.handleClose=function(){t.setState({displayColorPicker:!1})},t.handleChange=function(e){if(t.setState({color:e.rgb,hex:e.hex}),t.props.changeColour){var n=t.props.pageId,a=t.props.parentId||null,r={target:{name:t.props.name,value:e.rgb}};t.props.changeColour(r,n,a)}},t}return Object(v.a)(n,e),Object(h.a)(n,[{key:"componentDidMount",value:function(){if(this.props.value){var e=this.props.value,n={r:e.r,g:e.g,b:e.b,a:e.a};this.setState({color:n})}}},{key:"render",value:function(){console.log("hex",this.state.color);var e=x()({default:{color:{width:"12vw",height:"17px",borderRadius:"2px",background:"rgba(".concat(this.state.color.r,", ").concat(this.state.color.g,", ").concat(this.state.color.b,", ").concat(this.state.color.a,")")},swatch:{padding:"5px",marginTop:"6px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return i.a.createElement("div",null,i.a.createElement("div",{style:e.swatch,onClick:this.handleClick},i.a.createElement("div",{style:e.color})),this.state.displayColorPicker?i.a.createElement("div",{style:e.popover},i.a.createElement("div",{style:e.cover,onClick:this.handleClose}),i.a.createElement(y.SketchPicker,{color:this.state.color,onChange:this.handleChange})):null)}}]),n}(i.a.Component);function O(){var e=Object(a.a)(["\n  margin: 0 10px 15px 0;\n\n  > label {\n    font-weight: bold;\n    display: block;\n    margin-bottom: 8px;\n  }\n\n  > div textarea {\n    height: 230px;\n  }\n\n  > div input,\n  div textarea,\n  div select {\n    width: 100%;\n    box-sizing: border-box;\n    outline: none;\n    border: 1px solid #ccc;\n    background-color: white;\n    font: inherit;\n    padding: 6px 10px;\n    display: block;\n    box-sizing: border-box;\n    border-radius: 5px;\n    box-shadow: ",";\n\n    :focus {\n      outline: none;\n      border-color: #9ecaed;\n      box-shadow: 0 0 10px #9ecaed;\n    }\n  }\n\n  > div button {\n    opacity: 0.7;\n  }\n"]);return O=function(){return e},e}var S=l.c.div(O(),function(e){return e.errorGlow?"0 0 10px #b71c1c":"none"});n.a=function(e){var n=null,t=null;switch(e.inputtype){case"input":n=i.a.createElement("input",{name:e.name,value:e.value,onChange:e.onChange,disabled:e.disabled||!1,placeholder:e.placeholder,type:e.type||"text",readOnly:e.readOnly,ref:e.refProp,onFocus:e.onFocus,min:e.min,max:e.max});break;case"inputSelector":n=i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{name:e.name,value:e.value,onClick:e.onClick,onChange:e.onChange,readOnly:!0}),e.value&&i.a.createElement(p.a,{"aria-label":"Add",onClick:function(){return e.clearInput(e.name)}},i.a.createElement(d.a,{fontSize:"small"})));break;case"inputColourPicker":n=i.a.createElement(E,{name:e.name,value:e.value,changeColour:e.changeColour,pageId:e.pageId,parentId:e.parentId});break;case"textarea":n=i.a.createElement("textarea",{name:e.name,value:e.value,onChange:e.onChange});break;case"select":t="object"===typeof e.items?Object.keys(e.items).map(function(n,t){var a=e.items[n];return i.a.createElement("option",{key:t,value:a.title||a.value},a.title||a.value)}):e.items.map(function(e,n){return i.a.createElement("option",{key:n,value:e.title||e.value},e.title||e.value)}),n=i.a.createElement("select",{value:e.value||e.items[0],onChange:e.onSelectChange,name:e.name},t);break;case"checkbox":n=i.a.createElement(s.a,{margin:"initial"},i.a.createElement(c.a,{name:e.name,checked:e.checked,onChange:e.handleChange("checked",e.parentObj),color:"primary",value:"checked",parent:e.parent}),i.a.createElement("label",null,e.sideLabel));break;default:n=i.a.createElement("input",null)}return i.a.createElement(S,{errorGlow:e.validation},i.a.createElement("label",null,e.label),i.a.createElement(s.a,null,n))}},401:function(e,n,t){"use strict";var a=t(9),r=t(0),i=t.n(r),o=t(7),c=t(546),s=t.n(c);function l(){var e=Object(a.a)(["\n  > div {\n    padding: ",";\n    height: ",";  \n    width: ",';  \n    margin: "theme.spacing.unit * 2";\n    color: ',";\n  }\n"]);return l=function(){return e},e}var u=o.c.div(l(),function(e){return e.large?"400px 50%":"auto"},function(e){return e.large?"100px !important":"20px !important"},function(e){return e.large?"100px !important":"20px !important"},function(e){return e.theme.primaryBackGroundColour});n.a=function(e){return i.a.createElement(u,{large:e.large},i.a.createElement(s.a,null))}},430:function(e,n,t){"use strict";var a=t(9),r=t(0),i=t.n(r);function o(){var e=Object(a.a)(["\n  margin: ",";\n  opacity: ",";\n  position:","\n"]);return o=function(){return e},e}var c=t(7).c.div(o(),function(e){return e.margin||"20px"},function(e){return e.opacity},function(e){return e.position||"initial"});n.a=function(e){var n=e.opacity||!1;return i.a.createElement(c,{margin:e.margin,opacity:n?"0.5":"1",position:e.position},e.children)}},436:function(e,n,t){"use strict";var a=t(9),r=t(0),i=t.n(r);function o(){var e=Object(a.a)(["\n  display: grid;\n  margin: ",";\n  grid-template-columns: ",";\n  grid-column-gap: ",";\n  align-items: center;\n  height: ",";\n  grid-row-gap: ",";\n\n  @media (max-width: 1024px) {\n    grid-template-columns: ",";\n  }\n\n  @media (max-width: 768px) {\n    grid-template-columns: ",";\n    margin: ",";\n  }\n\n  @media (max-width: 500px) {\n    grid-template-columns: ",";\n    margin: ",";\n  }\n"]);return o=function(){return e},e}var c=t(7).c.div(o(),function(e){return e.margin||"20px"},function(e){return e.cols},function(e){return e.colGap||"20px"},function(e){return e.height?e.height:"auto"},function(e){return e.rowGap?e.rowGap:"initial"},function(e){return e.colsLarge||e.cols},function(e){return e.colsMed||e.cols},function(e){return e.marginMed||e.margin},function(e){return e.colsSmall||e.cols},function(e){return e.marginSmall||e.margin});n.a=function(e){var n=e.cols||"50% 50%",t=e.colsSmall||e.colsMed,a=e.marginSmall||e.marginMed;return i.a.createElement(c,{cols:n,colsSmall:t,colsMed:e.colsMed,colsLarge:e.colsLarge,margin:e.margin,marginSmall:a,marginMed:e.marginMed,marginLarge:e.marginLarge,colGap:e.colGap,rowGap:e.rowGap,height:e.height},e.children)}},496:function(e,n,t){"use strict";var a=t(9),r=t(13),i=t(11),o=t(26),c=t(27),s=t(30),l=t(28),u=t(29),p=t(0),m=t.n(p),d=t(92),g=t(34),h=t(7),b=t(938),f=t(52),v=t(40);function k(){var e=Object(a.a)(["\n  height: 460px;\n  margin-top: ",";\n\n  /* Position and center the image to scale nicely on all screens */\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: cover;\n  position: relative;\n\n  > div {\n    padding: 80px 10vw 0 10vw;\n    text-align: ",";\n    color: ",";\n\n\n    .banner-content {\n      margin: 0 20px;\n    }\n  }\n"]);return k=function(){return e},e}function x(){var e=Object(a.a)(["\n  ","\n  padding: 0 30px;\n"]);return x=function(){return e},e}function y(){var e=Object(a.a)(["\n  transform: ",";\n"]);return y=function(){return e},e}function E(){var e=Object(a.a)(["\n  padding: 20px;\n  width: 50%;\n  \n  ","\n\n  @media (max-width: 768px) {\n      width: 68%;\n  }\n\n  @media (max-width: 500px) {\n      width: 85%;\n  }\n"]);return E=function(){return e},e}function O(){var e=Object(a.a)(["\n \n"]);return O=function(){return e},e}var S=function(e){function n(){var e,t;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(s.a)(this,(e=Object(l.a)(n)).call.apply(e,[this].concat(r)))).state={loading:!0,showLogo:!0,showBannerContent:!0,isVisible:!1},t.handleLogoLoaded=function(){},t}return Object(u.a)(n,e),Object(c.a)(n,[{key:"componentDidMount",value:function(){this.setState({isVisible:!0})}},{key:"componentDidUpdate",value:function(e){this.props.bannerData&&this.props.bannerData.BannerLogo!==e.bannerData.BannerLogo&&this.setState({showLogo:this.props.bannerData.BannerLogo})}},{key:"render",value:function(){var e=this.props.bannerData,n=e.Banner,t=(e.Bannerfade,e.BannerTitle),a=e.BannerSubtitle,r=e.BannerDescription,i=e.BannerBtnText,o=e.BannerLink,c=e.BannerTextBkgrnd,s=e.BannerTextBkgrndRounded,l=e.BannerTextBkgrndAngled,u=e.BannerTextBkgrndColor,p=n,d=this.props,g=d.history,h=d.template.siteLogo,b="rgba(255,255,255,1)";if(u){var k=u.r,x=u.g,y=u.b,E=u.a;b="rgba(".concat(k,", ").concat(x,", ").concat(y,", ").concat(E,")")}var O=c?b:"transparent",S=0;l&&(S=Number(l)>=0?"-"+l:l.replace("-",""));var D=l?"skewX(".concat(l,"deg)"):"skewX(0deg)",L=l?"skewX(".concat(S,"deg)"):"skewX(0deg)",I=s?"".concat(s,"%"):"0";return console.log("full_bannerProps",this.props),m.a.createElement(T,Object.assign({style:{backgroundImage:"url(".concat(p,")")}},this.props),m.a.createElement("div",null,m.a.createElement(B,{skewFwd:D},this.state.isVisible&&[],m.a.createElement(j,{isTextBackground:O,roundedEdges:I,pose:this.state.isVisible?"enter":"exit"},m.a.createElement(C,{skewBack:L},this.state.showLogo&&m.a.createElement(w,null,m.a.createElement(f.a,{siteLogo:h,onLoad:this.handleLogoLoaded,width:"50%"})),this.state.showBannerContent&&m.a.createElement("div",{className:"banner-content"},m.a.createElement("h1",null,t),m.a.createElement("h3",null,a),m.a.createElement("p",null,r),i&&m.a.createElement(v.a,{onClick:function(){g.push(o)}},i)))))))}}]),n}(p.Component),w=h.c.div(O()),j=Object(h.c)(b.a.div({enter:{y:0,opacity:1,delay:1e3,transition:{y:{type:"spring",stiffness:100},default:{duration:500}}},exit:{y:50,opacity:0,transition:{duration:150}}}))(E(),function(e){return"\n    background-color: ".concat(e.isTextBackground,";\n    border-radius: ").concat(e.roundedEdges,";\n  ")}),B=h.c.div(y(),function(e){return e.skewFwd}),C=h.c.div(x(),function(e){return"\n    transform: ".concat(e.skewBack,";\n  ")}),T=h.c.div(k(),function(e){return e.template.transparentHeader&&"top"===e.position?"-56px":0},function(e){return e.bannerData.BannerTxtRightSide?"right":"left"},function(e){return e.bannerData.BannerTxtLightTheme?e.theme.bannerTextLight:e.theme.bannerTextDark}),D=S,L=t(436);function I(){var e=Object(a.a)(["\n  background-color: ",";\n  height: ",";\n\n  /* Position and center the image to scale nicely on all screens */\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: cover;\n  position: relative;\n\n  @media (max-width: 768px) {\n    height: 610px;\n  }\n"]);return I=function(){return e},e}function P(){var e=Object(a.a)(["\n    /* margin-top: ","; */\n    text-align: center;\n\n    > img{\n        width: auto;\n        max-width:100%;\n\n        @media (max-width: 768px) {\n            max-width:90%;\n        }\n    }\n"]);return P=function(){return e},e}function A(){var e=Object(a.a)(["\n    /* text-align: ","; */\n    color: ",";\n    margin: 0 50px;\n    animation: ",";\n    position: relative;\n    /* top: ","; */\n\n"]);return A=function(){return e},e}function H(){var e=Object(a.a)(["\n  animation: ",";\n"]);return H=function(){return e},e}function F(){var e=Object(a.a)(["\n    1s "," ease-out\n  "]);return F=function(){return e},e}function M(){var e=Object(a.a)(["\n  0% {\n    opacity: 0;\n    transform: translateY(40%);\n  }\n  50% {\n    opacity: 1;\n    transform: translateY(-20%);\n    \n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n"]);return M=function(){return e},e}var U=function(e){function n(){var e,t;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(s.a)(this,(e=Object(l.a)(n)).call.apply(e,[this].concat(r)))).state={loading:!0,showLogo:!1,showBannerContent:!1},t.handleLogoLoaded=function(){t.setState({loading:!1})},t}return Object(u.a)(n,e),Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.bannerData.BannerLogo?(setTimeout(function(){e.setState({showLogo:!0})},500),setTimeout(function(){e.setState({showBannerContent:!0})},700)):this.setState({showBannerContent:!0})}},{key:"componentDidUpdate",value:function(e){this.props.bannerData&&this.props.bannerData.BannerLogo!==e.bannerData.BannerLogo&&this.setState({showLogo:this.props.bannerData.BannerLogo})}},{key:"render",value:function(){var e=this.props.bannerData,n=e.Banner,t=e.position,a=e.BannerHWbackImg,r=e.BannerHWBackColour,i=e.BannerTxtRightSide,o=e.Bannerfade,c=e.BannerTitle,s=e.BannerSubtitle,l=e.BannerDescription,u=e.BannerBtnText,p=e.BannerLink,d=n,g=a,h=this.props,b=h.history,k=h.template.siteLogo,x=m.a.createElement("div",null,this.state.showLogo&&m.a.createElement(q,{fadeContent:o},m.a.createElement(f.a,{siteLogo:k,onLoad:this.handleLogoLoaded,width:"50%"})),m.a.createElement(G,this.props,m.a.createElement("h1",null,c),m.a.createElement("h3",null,s),m.a.createElement("p",null,l),u&&m.a.createElement(v.a,{onClick:function(){b.push(p)}},u)));return console.log("half_bannerProps",this.props),m.a.createElement(z,{style:{backgroundImage:"url(".concat(g,")")},background:r,transparentHeader:this.props.template.transparentHeader,position:this.props.position},m.a.createElement(L.a,{colGap:"0",margin:"0 5% 0 0",marginMed:"0",cols:"1fr 40% 40% 1fr",height:"100%",colsLarge:"0% 50% 50% 0%",colsMed:"100%"},m.a.createElement("div",null),this.state.showBannerContent&&!i&&x,m.a.createElement(Y,this.props,m.a.createElement("img",{src:d,alt:"".concat(t,"-banner")})),this.state.showBannerContent&&i&&x,m.a.createElement("div",null)))}}]),n}(p.Component),N=Object(h.d)(M()),R=function(e){return Object(h.b)(F(),N)},q=h.c.div(H(),function(e){return e.fadeContent?R:"none"}),G=h.c.div(A(),function(e){return e.bannerData.textRightSide?"right":"left"},function(e){return e.bannerData.BannerTxtLightTheme?e.theme.bannerTextLight:e.theme.bannerTextDark},function(e){return e.bannerData.Bannerfade?R:"none"},function(e){return e.bannerData.isLogo?0:"-65px"}),Y=h.c.div(P(),function(e){return e.template.transparentHeader&&"top"===e.position?"-56px":0}),z=h.c.div(I(),function(e){return e.background||"initial"},function(e){return e.transparentHeader&&"top"===e.position?"475px":"400px"}),_=U,V=t(582),W=t.n(V);function X(){var e=Object(a.a)(["\n  padding: 8% 10%;\n  background-color: ",";\n\n  .mainText {\n    text-align: ",";\n\n    > img {\n      height: ",";\n      width: ",";\n      float: ",";\n      padding: 15px;\n    }\n\n    > h1,\n    h2,\n    h3 {\n      text-align: ",";\n      margin: 0;\n    }\n  }\n"]);return X=function(){return e},e}var K=function(e){function n(){var e,t;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(s.a)(this,(e=Object(l.a)(n)).call.apply(e,[this].concat(r)))).convertToHtml=function(e,n){if(!e)return null;var a=e;return n&&(a=e.replace("{image}","<img src=".concat(n,' ALIGN="left" alt={').concat(t.props.position,"-maintext-image}>"))),W()(a)},t}return Object(u.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){if(!this.props.bannerData)return m.a.createElement("div",null);console.log("main text banner props",this.props);var e=this.props.bannerData,n=e.mainText,t=e.mainTextCenterTitle,a=(e.position,e.mainTextRightSide),r=e.mainTextBackColour,i=e.mainTextImg,o=e.mainTextImgAlign,c=e.mainTextImgWidth,s=e.mainTextImgHeight,l=a?"right":"left",u=i,p=c?"".concat(c,"px"):null,d=s?"".concat(s,"px"):null,g=this.convertToHtml(n,u),h="#FFFFFF";if(r){var b=r.r,f=r.g,v=r.b,k=r.a;h="rgba(".concat(b,", ").concat(f,", ").concat(v,", ").concat(k,")")}return m.a.createElement(J,{centerTitle:t,textAlignment:l,backgroundColour:h,imgAlign:o,imgWidth:p,imgHeight:d},m.a.createElement("div",{className:"mainText"},g))}}]),n}(p.Component),J=h.c.div(X(),function(e){return e.backgroundColour},function(e){return e.textAlignment},function(e){return e.imgHeight||"135px"},function(e){return e.imgWidth||"200px"},function(e){return e.imgAlign||"left"},function(e){return e.centerTitle?"center":e.textAlignment}),Q=K,Z=t(460),$=t.n(Z),ee=t(463),ne=t(126),te=t.n(ne),ae=t(125),re=t(400),ie=t(401),oe=t(117),ce=t(430);function se(){var e=Object(a.a)(["\n  padding: 40px 10%;\n"]);return se=function(){return e},e}var le=function(e){function n(){var e,t;Object(o.a)(this,n);for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];return(t=Object(s.a)(this,(e=Object(l.a)(n)).call.apply(e,[this].concat(c)))).state={name:"",email:"",phone:"",message:"",successEmail:"",errorEmail:"",disableButton:!1,spinner:!1,validationErrors:!1,requiredErrors:{}},t.handlechange=function(e){var n;t.setState((n={},Object(r.a)(n,e.target.name,e.target.value),Object(r.a)(n,"disableButton",!1),n))},t.validateInputs=function(e){e.preventDefault();var n=t.state,a=n.name,o=n.email,c=n.phone,s=t.props.booking,l={name:a,email:o,phone:c};s&&(l=Object(i.a)({},l,{date:s.date,time:s.time}));var u={};Object.keys(l).map(function(e){""===l[e]&&(u=Object(i.a)({},u,Object(r.a)({},e,!0)))}),0!==Object.keys(u).length&&u.constructor===Object?t.setState({requiredErrors:u,validationErrors:"Required fields are empty, please fill in the required highlighted fields"},function(){t.props.enqueueSnackbar(t.state.validationErrors,{variant:"error"})}):t.handleSubmit()},t}return Object(u.a)(n,e),Object(c.a)(n,[{key:"componentDidUpdate",value:function(e){if(this.props.booking&&this.props.booking.date!==e.booking.date){var n=this.state.requiredErrors;this.setState({requiredErrors:Object(i.a)({},n,{date:!1})})}}},{key:"handleSubmit",value:function(){var e=Object(ee.a)($.a.mark(function e(){var n,t,a,r,o,c,s,l,u,p,m,d=this;return $.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state,t=n.name,a=n.email,r=n.phone,o=n.message,c=this.props,s=c.pluginOptions,l=c.booking,u=c.enqueueSnackbar,p=l?"/api/requestbooking":"/api/mailer",m={name:t,email:a,phone:r,message:o,emailTo:l?s.bookingEmail:s.contactUsEmail},l&&(m=Object(i.a)({},m,{date:l.date,time:l.time,am_Pm:l.am_Pm,timeSlot:l.timeSlot,start:l.start,end:l.end,dailySessionsRemaining:l.dailySessionsRemaining,initialSessions:l.initialSessions})),(l||s.contactUsEmail)&&(!l||s.bookingEmail)){e.next=7;break}return e.abrupt("return",alert("problem with website email configuration"));case 7:return this.setState({spinner:!0}),e.prev=8,e.next=11,te.a.post(p,m);case 11:200===e.sent.status?this.setState({successEmail:"Your message was sent successfully",disableButton:!0,spinner:!1},function(){return u(d.state.successEmail)},{variant:"success"}):this.setState({errorEmail:"There was an issue sending your email try again later",disableButton:!1,spinner:!1},function(){return u(d.state.errorEmail)},{variant:"error"}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(8),console.log(e.t0),this.setState({errorEmail:"There was an issue sending your email",disableButton:!1,spinner:!1},function(){return u(d.state.errorEmail)},{variant:"error"});case 19:case"end":return e.stop()}},e,this,[[8,15]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,n=this.state,t=n.spinner,a=n.disableButton,o=n.requiredErrors,c=this.props,s=c.booking,l=c.refProp,u=c.pluginOptions,p=c.handlechange;return m.a.createElement(ue,null,m.a.createElement("h1",null,s?"Booking Form":"Contact Us"),m.a.createElement("form",{onSubmit:this.validateInputs},s&&m.a.createElement(re.a,{inputtype:"input",refProp:l,readOnly:!0,label:"Booking date",name:"date",value:s.date,placeholder:"Select and available date on the booking calendar",validation:o.date}),s&&!u.bookingTimeSlotsAvailable&&m.a.createElement(oe.a,null,m.a.createElement(re.a,{inputtype:"input",label:"Start time request",name:"time",type:"time",value:s.time,onChange:p,validation:o.time,onFocus:function(n){return e.setState({requiredErrors:Object(i.a)({},o,Object(r.a)({},n.target.name,!1))})}}),m.a.createElement(ce.a,{margin:"6px 6px 6px 70px",position:"absolute"},s.am_Pm)),s&&u.bookingTimeSlotsAvailable&&m.a.createElement(re.a,{inputtype:"select",label:"Time request",name:"timeSlot",onChange:p}),m.a.createElement(re.a,{inputtype:"input",label:"Name",name:"name",onChange:this.handlechange,validation:o.name,onFocus:function(n){return e.setState({requiredErrors:Object(i.a)({},o,Object(r.a)({},n.target.name,!1))})}}),m.a.createElement(re.a,{inputtype:"input",type:"email",label:"Email",name:"email",onChange:this.handlechange,validation:o.email,onFocus:function(n){return e.setState({requiredErrors:Object(i.a)({},o,Object(r.a)({},n.target.name,!1))})}}),m.a.createElement(re.a,{inputtype:"input",type:"tel",label:"Contact phone number",name:"phone",onChange:this.handlechange,validation:o.phone,onFocus:function(n){return e.setState({requiredErrors:Object(i.a)({},o,Object(r.a)({},n.target.name,!1))})}}),m.a.createElement(re.a,{inputtype:"textarea",label:"Message",name:"message",onChange:this.handlechange}),m.a.createElement(oe.a,null,m.a.createElement(v.a,{type:"submit",disabled:a},"Send"),t&&m.a.createElement(ie.a,null))))}}]),n}(p.Component),ue=h.c.div(se()),pe=Object(ae.withSnackbar)(le),me=t(785),de=t.n(me),ge=t(861),he=t.n(ge);function be(){var e=Object(a.a)(["\n    padding: 3% 10%;\n"]);return be=function(){return e},e}t(864);var fe=de.a.momentLocalizer(he.a),ve=function(e){function n(e){var t;return Object(o.a)(this,n),(t=Object(s.a)(this,Object(l.a)(n).call(this,e))).state={setupIncomplete:!1,events:[],date:"",time:"",am_Pm:"",timeSlot:"",start:"",end:"",dailySessionsRemaining:"",initialSessions:""},t.bookings=[],t.handleEvents=function(e){var n=t.props.pluginOptions,a=n.bookingTimeSlotsAvailable,r=(n.bookingTimeSlots,n.bookingSessions),o=[];e.items.map(function(e){console.log(e);var n=e.start.date||he()(e.start.dateTime).tz("Pacific/Auckland").format("YYYY-MM-DD"),c=(e.start.dateTime&&he()(e.start.dateTime).tz("Pacific/Auckland").format("HH:mm:ss"),e.end.date||he()(e.end.dateTime).tz("Pacific/Auckland").format("YYYY-MM-DD")),s=(e.end.dateTime&&he()(e.end.dateTime).tz("Pacific/Auckland").format("HH:mm:ss"),0),l=e.summary.toUpperCase().includes("BOOKING AVAILABLE"),u=e.summary.toUpperCase().includes("BOOKED OUT"),p=0,m=0,d=r,g=!1;if(l?d=(g=e.summary.toUpperCase().includes("SLOTS="))?Number(e.summary.toUpperCase().split("SLOTS=").pop()):d:(p=e.summary.toUpperCase().includes("REDUCE_SLOTS=")?Number(e.summary.toUpperCase().split("REDUCE_SLOTS=").pop()):1,m=e.summary.toUpperCase().includes("ADD_SLOTS=")?Number(e.summary.split("ADD_SLOTS=").pop()):0),a)console.log("timeslots are available");else if(o.find(function(e,t){return s=t,e.start===n})){var h=o[s].sessionCount-p+m;l&&(g&&(h=Number(d)-Number(r)+Number(h)),o[s]={initialSessions:Number(d)}),u&&(h=0);var b=t.setEventBubble(h,Number(d));console.log("eventBubble",b),o[s]=Object(i.a)({},o[s],{start:n,end:c,title:b[0],sessionCount:h,rgbaColor:b[1]}),console.log("bookings",o)}else{var f=Number(d)-p+m;u&&(f=0);var v=t.setEventBubble(f,Number(d));o.push({start:n,end:c,title:v[0],initialSessions:Number(d),sessionCount:f,rgbaColor:v[1]}),console.log("bookings",o)}}),t.setState({events:o})},t.setEventBubble=function(e,n){var t=Number(n);return e===t?["Available","rgba(72, 133, 237, 1)"]:e<=0?["Fully Booked","rgba(0, 0, 0, 0.3)"]:1===e?["One Remaining","rgba(219, 50, 54, 1)"]:e<=t/2?["Filling Fast","rgba(244, 194, 13, 1)"]:["Available","rgba(72, 133, 237, 1)"]},t.onEventClick=function(e){if(console.log(e),"Fully Booked"===e.title)return t.props.enqueueSnackbar("Oh no! Sorry cannot select this date, it has already been booked out",{variant:"info"});t.myRef.current.scrollIntoView({behavior:"smooth"});var n=he()(e.start).format("dddd DD-MM-YYYY");t.setState({date:n,start:e.start,end:e.end,dailySessionsRemaining:e.sessionCount,initialSessions:e.initialSessions})},t.handlechange=function(e){var n,a=t.state.am_Pm,i=e.target,o=i.value;if("time"===i.name)if(""===o)a="";else{var c=o.split(":");a=Number(c[0])>=0&&Number(c[0])<=11?"AM":"PM"}t.setState((n={},Object(r.a)(n,e.target.name,e.target.value),Object(r.a)(n,"disableButton",!1),Object(r.a)(n,"am_Pm",a),n))},t.onHeaderSelect=function(e){console.log(e)},t.myRef=m.a.createRef(),t}return Object(u.a)(n,e),Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this,n=this.props.pluginOptions,t=n.bookingApiKey,a=n.bookingCalendarID,r=n.bookingGetCalandarAdvance,i=r?Number(r.split(" ")[0]):1,o=new Date;o.setHours(0,0,0,0);var c=o.toISOString(),s=he()(o).add(i,"M").toISOString();if(!t||!a)return this.setState({setupIncomplete:!0});var l="https://www.googleapis.com/calendar/v3/calendars/".concat(a,"/events?key=").concat(t,"&timeMin=").concat(c,"&timeMax=").concat(s,"&singleEvents=true&orderBy=startTime");te.a.get(l).then(function(n){console.log("request data success",n),e.handleEvents(n.data)}).catch(function(e){console.log(e)})}},{key:"eventStyleGetter",value:function(e,n,t,a){return{style:{textAlign:"center",height:"25px",backgroundColor:e.rgbaColor,borderRadius:"5px",color:"black",border:"0px",display:"block"}}}},{key:"render",value:function(){var e=this,n=this.state,t=n.date,a=n.time,r=n.am_Pm,i=n.timeSlot,o=n.start,c=n.end,s=n.dailySessionsRemaining,l=n.initialSessions,u=this.props.pluginOptions;return m.a.createElement(m.a.Fragment,null,m.a.createElement(ke,null,m.a.createElement(de.a,{selectable:!0,onDrillDown:function(n){return e.onHeaderSelect(n)},onSelectEvent:function(n){return e.onEventClick(n)},style:{height:"420px"},localizer:fe,events:this.state.events,views:{month:!0},eventPropGetter:this.eventStyleGetter})),m.a.createElement(pe,{booking:{date:t,time:a,am_Pm:r,timeSlot:i,start:o,end:c,dailySessionsRemaining:s,initialSessions:l},handlechange:this.handlechange,refProp:this.myRef,pluginOptions:u}))}}]),n}(p.Component),ke=h.c.div(be()),xe=Object(ae.withSnackbar)(ve);function ye(){var e=Object(a.a)(["\n  position: absolute;\n  width: 30%;\n  height: ",";\n  z-index: 10;\n  background-color: transparent;\n\n  @media (max-width: 500px) {\n    width: 80%;\n  }\n"]);return ye=function(){return e},e}function Ee(){var e=Object(a.a)(["\n  margin-top: ",";\n  padding-top: ",";\n"]);return Ee=function(){return e},e}var Oe=function(e){function n(){var e,t;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=Object(s.a)(this,(e=Object(l.a)(n)).call.apply(e,[this].concat(r)))).state={previewHeight:0},t.updateBlockerDimensions=function(){var e=document.getElementById(t.props.name).clientHeight;e!==t.state.previewHeight&&t.setState({previewHeight:e+"px"})},t}return Object(u.a)(n,e),Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,n=e.overlayBlocker,t=e.name;n&&(this.updateBlockerDimensions(),document.getElementById(t).addEventListener("resize",this.updateBlockerDimensions))}},{key:"componentWillUnmount",value:function(){var e=this.props,n=e.overlayBlocker,t=e.name;n&&document.getElementById(t).removeEventListener("resize",this.updateBlockerDimensions)}},{key:"componentDidUpdate",value:function(e){this.props.pageInfo!==e.pageInfo&&this.updateBlockerDimensions()}},{key:"createContentObject",value:function(e,n,t){var a={};return Object.keys(t).filter(function(e){return e.includes(n)}).map(function(n){var o=n.replace(e,"");return a=Object(i.a)({},a,Object(r.a)({},o,t[n]))}),a}},{key:"render",value:function(){console.log("dashboard props",this.props);var e=this.props,n=e.pageInfo,t=e.plugins,a=e.overlayBlocker,r=e.name;if(!n)return m.a.createElement(ie.a,{large:!0});if(!n.content)return m.a.createElement("div",null,"No page content available");var i=this.createContentObject("top","topBanner",this.props.pageInfo.content),o=this.createContentObject("mid","midBanner",this.props.pageInfo.content),c=this.createContentObject(null,"mainText",this.props.pageInfo.content),s=this.props.pageInfo.content,l=s.topBanner,u=s.topBannerHalfwidth,p=s.midBanner,d=s.midBannerHalfwidth,g=s.mainTextPosition,h=void 0===g?"Top":g,b=null,f=null;return t&&t.contactUs&&t.contactUs.contactUsPages&&(b=t.contactUs.contactUsPages.find(function(e){if("All Pages"===e)return!0;var t="home"===e?"/":e;return n.route===t})),t&&t.booking&&t.booking.bookingPages&&(f=t.booking.bookingPages.find(function(e){if("All Pages"===e)return!0;var t="home"===e?"/":e;return n.route===t})),m.a.createElement(m.a.Fragment,null,a&&m.a.createElement(we,{previewHeight:this.state.previewHeight}),m.a.createElement(Se,{transparentHeader:this.props.template.transparentHeader,topBanner:!!l,id:r},l&&m.a.createElement(m.a.Fragment,null,u?m.a.createElement(_,{bannerData:i,history:this.props.history,template:this.props.template,position:"top"}):m.a.createElement(D,{bannerData:i,history:this.props.history,template:this.props.template,position:"top"})),"Top"===h&&m.a.createElement(Q,{bannerData:c}),f&&m.a.createElement(xe,{pluginOptions:t.booking}),b&&m.a.createElement(pe,{pluginOptions:t.contactUs}),p&&m.a.createElement(m.a.Fragment,null,!0===d?m.a.createElement(_,{bannerData:o,history:this.props.history,template:this.props.template,position:"mid"}):m.a.createElement(D,{bannerData:o,history:this.props.history,template:this.props.template,position:"mid"})),"Middle"===h&&m.a.createElement(Q,{bannerData:c})))}}]),n}(p.Component),Se=h.c.div(Ee(),function(e){return e.transparentHeader?"-75px":0},function(e){return e.topBanner?0:"150px"}),we=h.c.div(ye(),function(e){return e.previewHeight});n.a=Object(d.a)(Object(g.connect)(function(e){return{template:e.mainState.template,plugins:e.mainState.plugins}},null)(Oe))},591:function(e,n){}}]);
//# sourceMappingURL=2.34821cd3.chunk.js.map